<!doctype html>
<html lang="en">
  <head>
    <!--
      Need to look at WHY this doesn't render to PDF properly with
      the version of Reveal.JS from 2023-04, but is fine with 2020-11!
    -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Genetic Algorithms</title>

    <link rel="stylesheet" href="reveal/dist/reset.css">
    <link rel="stylesheet" href="reveal/dist/reveal.css">
    <link rel="stylesheet" href="reveal/dist/theme/black.css" id="theme">
    <link rel="stylesheet" href="genetic-algos.css">
    <link rel="stylesheet" href="reveal/plugin/highlight/monokai.css">

  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section>
          <h1>Tight Genes:</h1>
          <h2>Intro to Genetic Algorithms</h2>
          <h4>by Dave Aronson</h4>
          T.Rex-20<span data-gv-var="year"></span>@Codosaur.us<br>
          twitter.com/DaveAronson<br>
          linkedin.com/in/DaveAronson<br>
          github.com/CodosaurusLLC/tight-genes
          <aside class="notes">
            NOTE TO SELF: click on timer to reset it at the start<br>

            <span data-human-lang="english">
              Current time: ~80, speaking medium, w/ a few ad-libs and water breaks.<br>
              SDD wants 80-85, so leave as-is, but SPEAK MEDIUM-SLOW!!!
            </span>
            <span data-human-lang="lithuanian">
              Current time: ~37,
              speaking medium/fast, with lots of ad-libs.<br>
              DDEU wants 45, leave ~5-10 for Q&A, so net 35-40,
              seems about right, SLOW DOWN but use fewer ad-libs.
            </span>
          </aside>
        </section>

        <section>
          <div class="all">
            <div class="qtr vctring" style="font-size: 1.5em">
              <span data-human-lang="spanish">&#161;Hola, M&aacute;laga!</span>
              <span data-human-lang="dutch">Hallo, Utrecht!</span>
              <span data-human-lang="lithuanian">Sveiki, Vilniau!</span>
              <span data-human-lang="greek" lang="el">&Gamma;&epsilon;&iota;&alpha; &sigma;&alpha;&sigmaf;, &Alpha;&theta;&#942;&nu;&alpha;!</span>
              <span data-human-lang="norwegian">Hei, Oslo!</span>
              <span data-human-lang="portuguese">Ol&aacute;, Coimbra!</span>
            </div>
            <div class="half vctring" style="font-size: 6em">üëã</div>
            <div class="qtr vctring" style="font-size: 1.5em" data-not-if-human-lang="english">
              <div>(Hello,&nbsp;<span data-gv-var="city-en"></span>!)</div>
            </div>
            <div style="display: none" data-human-lang="english" data-gv-var="city-en">
            </div>
          </div>
          <span class="slide-caption">Image: standard emoji</span>
          <aside class="notes">
            <div data-human-lang="lithuanian">SveikEE VILnio!</div>
            <div data-human-lang="dutch">haLLO uTREKHT!</div>
            <div data-human-lang="greek">Ya Sas, AhTHEEna!</div>
            <div data-human-lang="norwegian">Hi, osLO!</div>
            <div data-human-lang="english">Good morning, London!</div>
          </aside>
        </section>

<!--
        <section data-human-lang="english">
          <div class="all">
            <img data-gv-var="city-en" src="images/london.png">
          </div>
          <span class="slide-caption">Image: https://www.pexels.com/photo/london-from-the-river-27585634/</span>
          <aside class="notes"><span data-gv-var="city-en"></span>!</aside>
        </section>
-->

        <section>
          <div class="all">
            <div class="qtr vctring" style="font-size: 1.5em">
              <div>
                <span data-human-lang="lithuanian">A≈° esu Dave Aronson,</span>
                <span data-human-lang="spanish">Me llamo</span>
                <span data-human-lang="dutch">Ik ben</span>
                <span data-human-lang="greek" lang="el">&Epsilon;&#943;&mu;&alpha;&iota; &omicron;</span>
                <span data-human-lang="norwegian">Jeg er</span>
                <span data-human-lang="portuguese">Eu sou</span>
              </div>
            </div>
            <div class="half vctring">
              <img src="images/Dave-Aronson-Speaking-at-JSConf-Hawaii-1kx1k.jpg">
            </div>
            <div class="qtr vctring" style="font-size: 1.5em" data-not-if-human-lang="english">
              (I'm Dave Aronson,)
            </div>
          </div>
          <span class="slide-caption">Image: me speaking at JSConf Hawai'i 2020!</span>
          <aside class="notes">
            <span data-human-lang="lithuanian">AHSH EHsoo</span>
            <span data-human-lang="dutch">Ik ben</span>
            <span data-human-lang="greek">eeMAY o</span>
            <span data-human-lang="norwegian">Yai ar</span>
            <span data-human-lang="english">I'm</span>
            Dave Aronson,
          </aside>
        </section>

        <section>
          <div class="all">
            <div class="qtr vctring" style="font-size: 1.5em">
              <span data-human-lang="lithuanian">T. Reksas i≈° Codosaurus,</span>
              <span data-human-lang="spanish">el T. Rex de Codosaurus,</span>
              <span data-human-lang="dutch">de T. Rex van Codosaurus,</span>
              <span data-human-lang="greek" lang="el">&omicron; T. Rex &tau;&omicron;&upsilon; Codosaurus,</span>
              <span data-human-lang="norwegian">T. Rex fra Codosaurus,</span>
              <span data-human-lang="portuguese">o T. Rex de Codosaurus,</span>
            </div>
            <div class="half vctring">
              <img src="images/CodoLogo-from-EPS.png" class="expand-tall">
            </div>
            <div class="qtr vctring" style="font-size: 1.5em" data-not-if-human-lang="english">
            (the T. Rex of Codosaurus,)
            </div>
          </div>
          <span class="slide-caption">Image: my company logo!</span>
          <aside class="notes">
            <span data-human-lang="lithuanian">teeRANnoSOWrus RRREKsas ish Codosowrus,</span>
            <span data-human-lang="dutch">deh Tay Rrrex fon Codosowrus</span>
            <span data-human-lang="greek">o T. Rex tu Codosaurus,</span>
            <span data-human-lang="norwegian">Tay Rex fra Codosowroos,</span>
            <span data-human-lang="english">the Tyrannosaurus Rex of Codosaurus, LLC,</span>
          </aside>
        </section>

        <section>
          <div class="all">
            <div class="qtr vctring" style="font-size: 1.5em">
              <span data-human-lang="lithuanian">ir atskridau ƒçia</span>
              <span data-human-lang="spanish">y vol&eacute; hasta aqu&iacute;</span>
              <span data-human-lang="dutch">en ik ben hierheen gevlogen</span>
              <span data-human-lang="greek" lang="el">&kappa;&alpha;&iota; &pi;&#941;&tau;&alpha;&xi;&alpha; &epsilon;&delta;&#974;</span>
              <span data-human-lang="norwegian">og jeg fl√∏y hit</span>
              <span data-human-lang="portuguese">e voei para c&aacute;</span>
            </div>
            <div class="half vctring" style="font-size: 4em">
              üõ´ . . . üõ¨
            </div>
            <div class="qtr vctring" style="font-size: 1.5em" data-not-if-human-lang="english">
              (and I flew here)
            </div>
          </div>
          <span class="slide-caption">Image: standard emoji</span>
          <aside class="notes">
            <span data-human-lang="lithuanian">ir atskrihDOH cheh</span>
            <span data-human-lang="dutch">en ik ben heerhay gheflogheh</span>
            <span data-human-lang="greek">kay paytaxAH ehDOH</span>
            <span data-human-lang="norwegian">oh yai floy heet</span>
            <span data-human-lang="english">and I flew all the way over here</span>
          </aside>
        </section>

        <section>
          <div class="all">
            <div class="qtr vctring" style="font-size: 1.5em">
              <span data-human-lang="lithuanian">ant savo augintinio pterodaktilio</span>
              <span data-human-lang="spanish">en mi mascota pterod&aacute;ctila</span>
              <span data-human-lang="dutch">op mijn pterodactylus</span>
              <span data-human-lang="greek" lang="el" style="font-size: 0.95em">&mu;&epsilon; &tau;&omicron; &kappa;&alpha;&tau;&omicron;&iota;&kappa;&#943;&delta;&iota;&omicron; &mu;&omicron;&upsilon; &pi;&tau;&epsilon;&rho;&omicron;&delta;&#940;&kappa;&tau;&upsilon;&lambda;&omicron;</span>
              <span data-human-lang="norwegian">p√• kj√¶ledyret mitt pterodactyl</span>
              <span data-human-lang="portuguese">no meu pterod&aacute;tilo de estima&ccedil;&atilde;o</span>
            </div>
            <div class="half">
              <img src="images/pterodactyl.png" height="60%"
                   style="position: absolute; top: 27%; left: 15%">
              <img src="images/t-rex-light.png" height="35%"
                   style="position: absolute; bottom: 43%; right: 35%; border-radius: 0">
            </div>
            <div class="qtr vctring" style="font-size: 1.5em" data-not-if-human-lang="english">
              (on my pet pterodactyl)
            </div>
          </div>
          <span class="slide-caption">Images: https://pixabay.com/vectors/dinosaur-tyrannosaurus-t-rex-6273164/<br>and https://pixabay.com/vectors/bird-flying-wings-dinosaur-ancient-44859/</span>
          <aside class="notes">
            <span data-human-lang="lithuanian">ahnt sahvo auGIHNtihnyo PterodakTIHlyo</span>
            <span data-human-lang="dutch">oap main pteroDACteeluss</span>
            <span data-human-lang="greek">meh to katoiKIdio moh pteroDAKtilo</span>
            <span data-human-lang="norwegian">po KYELihDEEReh mit PeroduckTEEL</span>
            <span data-human-lang="english">on my pet pterodactyl</span>
          </aside>
        </section>

        <section>
          <div class="all">
            <div class="qtr vctring" style="font-size: 1.5em">
              <span data-human-lang="lithuanian">kad i≈°mokinƒçiau jus apie</span>
              <span data-human-lang="spanish">para ense&ntilde;aros sobre</span>
              <span data-human-lang="dutch">om jullie iets over</span>
              <span data-human-lang="greek" lang="el">&gamma;&iota;&alpha; &nu;&alpha; &sigma;&alpha;&sigmaf; &mu;&#940;&theta;&omega; &tau;&omicron;&upsilon;&sigmaf;</span>
              <span data-human-lang="norwegian">for √• l√¶re deg om</span>
              <span data-human-lang="portuguese">para vos ensinar sobre</span>
            </div>
            <div class="half vctring" style="font-size: 7em">
              üë®üèΩ‚Äçüè´
            </div>
            <div class="qtr vctring" style="font-size: 1.5em" data-not-if-human-lang="english">
            (to teach you about)
            </div>
          </div>
          <span class="slide-caption">Image: standard emoji</span>
          <aside class="notes">
            <span data-human-lang="lithuanian">kad ishmoKIHNchyo YOOS ah-PEE-eh</span>
            <span data-human-lang="dutch">ohm Yully eets ofer</span>
            <span data-human-lang="greek">yeh na Sas MAtho tohss</span>
            <span data-human-lang="norwegian">for oh LAARa dai om</span>
            <span data-human-lang="english">to teach you about</span>
          </aside>
        </section>

        <section>
          <div class="all">
            <div class="qtr vctring" style="font-size: 1.5em">
              <span data-human-lang="lithuanian">Genetiniai Algoritmai.</span>
              <span data-human-lang="spanish">Algoritmos Gen&eacute;ticos.</span>
              <span data-human-lang="dutch">Genetische Algoritmen te leren.</span>
              <span data-human-lang="greek" lang="el">&Gamma;&epsilon;&nu;&epsilon;&tau;&iota;&kappa;&omicron;&#973;&sigmaf; &Alpha;&lambda;&gamma;&#972;&rho;&iota;&theta;&mu;&omicron;&upsilon;&sigmaf;.</span>
              <span data-human-lang="norwegian">Genetiske Algoritmer.</span>
              <span data-human-lang="portuguese">Algoritmos Gen&eacute;ticos.</span>
            </div>
            <div class="half vctring"><img src="images/genetic-testing.png"></div>
            <div class="qtr vctring" style="font-size: 1.5em" data-not-if-human-lang="english">
              (Genetic Algorithms.)
            </div>
          </div>
          <span class="slide-caption">Image: https://pixabay.com/vectors/genetic-testing-gene-panel-genetics-2316642</span>
          <aside class="notes">
            <span data-human-lang="lithuanian">geNETinee AlgoRITHmai.</span>
            <span data-human-lang="dutch">GheNEHtische AlghoRITmeh te lereh.</span>
            <span data-human-lang="greek">yenetiKOHSS alGOrithmohss.</span>
            <span data-human-lang="norwegian">GeNEtiskEH AlgoREETmer?</span>
            <span data-human-lang="english">Genetic Algorithms.<br><br>So . . .</span>
          </aside>
        </section>

        <section data-not-if-human-lang="english">
          <div class="all">
            <div class="qtr vctring" style="font-size: 1.5em">
              <div>
                <span data-human-lang="lithuanian">Visgi</span>
                <span data-human-lang="spanish">Pero</span>
                <span data-human-lang="dutch">Maar</span>
                <span data-human-lang="greek" lang="el">&Alpha;&lambda;&lambda;&#940;</span>
                <span data-human-lang="norwegian">Men</span>
                <span data-human-lang="portuguese">Mas</span>
                . . .
              </div>
            </div>
            <div class="half vctring" style="font-size: 6em">
              ‚òùÔ∏è
            </div>
            <div class="qtr vctring" style="font-size: 1.5em">
            (But . . .)
            </div>
          </div>
          <span class="slide-caption">Image: standard emoji</span>
          <aside class="notes">
            <span data-human-lang="lithuanian">VIZgih</span>
            <span data-human-lang="dutch">Maar</span>
            <span data-human-lang="greek">AHlah</span>
            <span data-human-lang="norwegian">M'n</span>
            . . .
          </aside>
        </section>

        <section data-not-if-human-lang="english">
          <div class="all">
            <div class="qtr vctring" style="font-size: 1.5em">
              <span data-human-lang="lithuanian">toliau tesiu pasakojima angli≈°kai.</span>
              <span data-human-lang="spanish">lo har&eacute; en ingl&eacute;s.</span>
              <span data-human-lang="dutch">ik zal het in het Engels doen.</span>
              <span data-human-lang="greek" lang="el">&theta;&alpha; &tau;&omicron; &kappa;&#940;&nu;&omega; &sigma;&tau;&alpha; &alpha;&gamma;&gamma;&lambda;&iota;&kappa;&#940;.</span>
              <span data-human-lang="norwegian">jeg skal gj√∏re det p√• engelsk.</span>
              <span data-human-lang="portuguese">vou faz√™-lo em ingl√™s.</span>
            </div>
            <div class="half vctring" style="font-size: 8em">
              üá∫üá∏
            </div>
            <div class="qtr vctring" style="font-size: 1.5em">
              (I will do it in English.)
            </div>
          </div>
          <span class="slide-caption">Image: standard emoji</span>
          <aside class="notes">
            <span data-human-lang="lithuanian">tohlYO TESSu PassaKoimah AHNglishkay.</span>
            <span data-human-lang="dutch">ik ZAL-et in-et ENgels doon.</span>
            <span data-human-lang="greek">Tha toh KAno sta AngliKAH.</span>
            <span data-human-lang="norwegian">Yai skuhl YOR-uh deuh po en-YILSK.</span>

            <br><br>

            <div data-not-if-human-lang="portuguese">
              <div data-not-if-human-lang="french">
                <span data-time-min="40">
                  Mainly because you‚Äôve just heard almost all the
                  <span data-human-lang="lithuanian">Lithuanian</span>
                  <span data-human-lang="spanish">Spanish</span>
                  <span data-human-lang="dutch">Dutch</span>
                  <span data-human-lang="greek">Greek</span>
                  <span data-human-lang="norwegian">Norwegian</span>
                  I speak!
                </span>
                <br>
              </div>
            </div>

            So . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/little-girl.jpg">
          </div>
          <span class="slide-caption">Image: https://www.pexels.com/photo/pensive-girl-with-school-notebook-thinking-16117755/</span>
          <aside class="notes">
            . . . what <i>are</i> genetic algorithms in the first place?&nbsp;
            <span data-time-min="40">
              The entire concept is an
            </span>
            <span data-time-max="39">They are</span>
            . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/settings_icon-icons.com_49925.png" style="background-color: white">
          </div>
          <span class="slide-caption">Image: https://icon-icons.com/download/49925/PNG/512/</span>
          <aside class="notes">
            ...
            <span data-time-min="40">
              optimization meta-heuristic,
              so that <i>individual</i> genetic algorithms are
            </span>
            optimization heuristics, . . .
          </aside>
        </section>

        <section>
          <div class="vctring" style="font-size: 8em">WAT?!</div>
          <aside class="notes">
            . . .
            <span data-time-max="39">which is</span>
            <span data-time-min="40">and all that babble is just</span>
            <i>fancy-talk</i> for . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <div style="font-size: 1.6em">
              <b>Optimization Heuristic:</b><br>
              shortcut to find<br>
              "good enough" solutions<br>
              (ideally the best,<br>
              but OK if not).
            </div>
          </div>
          <aside class="notes">
            . . .
            <span data-time-min="40">
              the idea that
              genetic algorithms are
              a category of
            </span>
            shortcuts to find solutions to hard problems.&nbsp;
            <span data-time-min="40">
              Generally these apply to problems that
              would be computationally intractable
              to attack by normal means.&nbsp;
            </span>
            Ideally they'll find the best solution,
            but in reality we usually have to settle for
            something "good enough",
            due to constraints like time or money.
            <span data-time-min="40">
              &nbsp;After all, that's generally why we're
              using a shortcut in the first place.
            </span>

            <br><br>

            There are many kinds of optimization heuristics,
            but genetic algorithms are
            <span data-time-min="40">
              (as you may have guessed from the name)
            </span>
            uniquely inspired by . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/evolution.jpg" class="expand-wide">
          </div>
          <span class="slide-caption">Image: https://www.freepik.com/free-vector/human-workers-evolution-silhouettes_725773.htm</span>
          <aside class="notes">
            . . . real-world biological evolution,
            mainly the principles of
            survival of the fittest,
            random combination of old sets of genes
            <span data-time-min="30">(no, not like I'm wearing)</span>
            into one new set,
            and random mutation.

            <br><br>

            The history goes back to 1950, when . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/turing.png" style="height: 100%">
            <div style="font-size: 3em; font-weight: bold">Alan<br>Turing</div>
          </div>
          <span class="slide-caption">Image: https://cdn.britannica.com/81/191581-050-8C0A8CD3/Alan-Turing.jpg</span>
          <aside class="notes">
            . . . Alan Turing, as in Turing Test,
            <span data-time-min="30">Turing Machine,</span>
            <span data-time-min="40">Turing Completeness, Turing Award</span>
            and so on,
            <span data-var-city-en="London">
              oh you know him, he's one of yours, anyway, he
            </span>
            proposed a "learning machine"
            in which he thought that
            the mechanism of learning
            would be similar to evolution.&nbsp;
            Nothing much ever came of that,
            and it took a few decades for
            genetic algorithms in general
            to get some traction.&nbsp;
            The first commercial product based on genetic algorithms,
            a mainframe toolkit for . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/industrial-process.jpg">
          </div>
          <span class="slide-caption">Image: https://pxhere.com/en/photo/267871</span>
          <aside class="notes">
            . . . industrial processes,
            came out in the late 1980's,
            from General Electric.&nbsp;
            <span data-time-min="40">
              In 1989 a more general genetic algorithm toolkit,
              called Evolver,
              came out for <i>PCs</i>.&nbsp;
            </span>
            These days,
            MATLAB and such tools
            have some genetic algorithm facilities built-in, and
            most major programming languages have
            genetic algorithm libraries available<span data-conf-prog-lang="ruby">,
            including over 30 Ruby gems</span>.&nbsp;
          <span data-time-min="50">
            (Plus, the basic idea is simple enough that
            any decent programmer can implement it from scratch.)&nbsp;
          </span>
            However, the actual <i>uses</i> of genetic algorithms
            remain mostly hidden,
            and in my opinion frankly rather boring<span data-time-min="50">
              to most of us
            </span>,
            used by companies in their internal
            industrial processes, logistics, scheduling, and so on.

            <br><br>

            But once in a while, they do get used for
            something more interesting,
            and more publicly known.&nbsp;
            <span data-time-min="50">
              These days, with AI becoming much more common,
            they're often used for things like
            selecting features sets of machine learning models and
            optimizing hyperparameters of neural networks, and even
            denoising, reconstructing, and extracting features from images.&nbsp;
            </span>
            Most famously, <span data-time-min="50">though,</span> in 2005 . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/nasa-logo-web-rgb.png">
          </div>
          <span class="slide-caption">Image: https://www.nasa.gov/sites/default/files/thumbnails/image/nasa-logo-web-rgb.png</span>
          <aside class="notes">
            . . . NASA<span data-time-min="50">,
              the United States' National Aeronautics and Space Administration,
            </span>
            used a genetic algorithm to design an . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/st5-antenna.jpg" class="expand-tall">
            <div style="font-size: 1.8em; font-weight: bold">
              ST5 antenna,<br>
              and<br>
              US quarter<br>
              for scale
            </div>
          </div>
          <span class="slide-caption">Image: https://www.jpl.nasa.gov/nmp/st5/IMAGES/st5-antenna.jpg</span>
          <aside class="notes">
            . . . antenna for the ST5 series of satellites<span data-time-min="35">,
              launched in 2006</span>.&nbsp;
            (No, that's not just a paperclip
            bent up by someone
            fidgeting in a boring meeting.)&nbsp;
            The NASA Jet Propulsion Laboratory website says:
            "Its unusual shape is expected
            because most human antenna designers
            would never think of such a design."&nbsp;
            And that is one of the great advantages of this approach.&nbsp;
            <span data-time-min="50">
              These algorithms are much less hampered by
              expectations of similarity to past solutions.&nbsp;
              They can come up with things that
              a human might dismiss at first glance as unrealistic,
              but the numbers work out just fine.&nbsp;
              However, today we'll only be looking at
              much simpler problem domains,
              for the sake of making understandable demos.
            </span>

            <br><br>

            <span data-time-min="50">
              Before we delve into the technical details,
              I'd like to set the . . .
            </span>
            <span data-time-max="49">
              So, how do genetic algorithms work?&nbsp;
              They consist of a simple series of steps:
            </span>
          </aside>
        </section>

        <section data-time-min="50">
          <div class="vctring" style="font-size: 10em">? ? ?</div>
          <aside class="notes">
            question policy.&nbsp;
            If you have a question that absolutely must be answered now,
            in order for you to understand some important point,
            raise a hand, and I'll try to notice and call on you.&nbsp;
            If you have a less urgent question,
            please save it for the end,
            and save comments for after all questions.

            <br><br>

            So, how do genetic algorithms work?&nbsp;
            They consist of a simple series of steps:
          </aside>
        </section>

        <section>
          <span class="center cycle-stage cycle-stage-init">Initialize</span>
          <aside class="notes">
            First, we create an initial population of candidates.&nbsp;
            In Genetic Algorithm terms, these are called "chromosomes",
            but since most living beings contain
            <i>many</i> chromosomes in each and every cell,
            I don't like that term,
            I think it leads to confusion,
            so I'm just going to say "candidates".&nbsp;
            <span data-time-min="35">
              I've also heard them called individuals, solutions,
              or
              <i>phenotypes</i>,
              to use an actual genetic term,
              but most people don't know that word,
              so I'll skip that one too.
            </span>

            <br><br>

            The next step is to . . .
          </aside>
        </section>

        <section>
          <span class="center cycle-stage cycle-stage-init">Initialize</span>
          <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
          <span class="center cycle-stage cycle-stage-assess">Assess</span>
          <aside class="notes">
            . . . assess the "fitness" of each candidate,
            according to whatever criteria we want to apply.&nbsp;
            We do it here mainly because
            it supplies the data
            <i>usually</i> used in the next step,
            which is to ask, are we . . .
          </aside>
        </section>

        <section>
          <span class="center cycle-stage cycle-stage-init">Initialize</span>
          <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
          <span class="center cycle-stage cycle-stage-assess">Assess</span>
          <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
          <span class="cycle-stage cycle-stage-done">Done?</span>
          <aside class="notes">
            . . . done yet?&nbsp;
            This is <i>usually</i> based on the fitness,
            but <i>could</i> be based on other criteria,
            <span data-time-min="40">
              and we'll discuss some of those later,
            </span>
            or a combination.&nbsp;
            If we're not done, then next we . . .
          </aside>
        </section>

        <section>
          <span class="center cycle-stage cycle-stage-init">Initialize</span>
          <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
          <span class="center cycle-stage cycle-stage-assess">Assess</span>
          <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
          <span class="cycle-stage cycle-stage-done">Done?</span>
          <span class="cycle-arrow-done">‚¨áÔ∏è</span>
          <span class="cycle-stage cycle-stage-select">Select</span>
          <aside class="notes">
            . . . select some candidates to breed the next generation.&nbsp;
            This is <i>also</i> usually based on the fitness,
            to simulate <i>survival</i> of the fittest.&nbsp;
            <!-- Remember, evolution is not about survival to a ripe old age,
            it's only concerned with
            survival to the point of passing along one's genes.&nbsp;
            Survival of an elder
            may contribute to survival of the young,
            but that's a much more complicated discussion
            of indirect evolutionary pressures. -->

            <br><br>

            After that,
            <span data-time-min="35">as you may have guessed,</span>
            we <i>use</i> those candidates we just selected . . .
          </aside>
        </section>

        <section>
          <span class="center cycle-stage cycle-stage-init">Initialize</span>
          <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
          <span class="center cycle-stage cycle-stage-assess">Assess</span>
          <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
          <span class="cycle-stage cycle-stage-done">Done?</span>
          <span class="cycle-arrow-done">‚¨áÔ∏è</span>
          <span class="cycle-stage cycle-stage-select">Select</span>
          <span class="center cycle-arrow-select">‚û°Ô∏è</span>
          <span class="cycle-stage cycle-stage-breed">Breed</span>
          <aside class="notes">
            . . . to <i>breed</i>
            a new population.&nbsp;
            <span data-time-min="35">
              Some of the previous population,
              especially the fittest ones,
              <i>may</i> be carried over into this new population,
              but usually not.
            </span>

            <br><br>

            Next
            <span data-time-min="35">
              is a very important but easily forgotten step,
              which is to
            </span>
            <span data-time-max="34">we</span>
            . . .
          </aside>
        </section>

        <section>
          <span class="center cycle-stage cycle-stage-init">Initialize</span>
          <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
          <span class="center cycle-stage cycle-stage-assess">Assess</span>
          <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
          <span class="cycle-stage cycle-stage-done">Done?</span>
          <span class="cycle-arrow-done">‚¨áÔ∏è</span>
          <span class="cycle-stage cycle-stage-select">Select</span>
          <span class="center cycle-arrow-select">‚û°Ô∏è</span>
          <span class="cycle-stage cycle-stage-breed">Breed</span>
          <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
          <span class="cycle-stage cycle-stage-mutate">Mutate</span>
          <aside class="notes">
            . . . <i>mutate</i> those new candidates,
            for more <i>diversity</i> in the gene pool.

            <br><br>

            Finally, we . . .
          </aside>
        </section>

        <section>
          <span class="center cycle-stage cycle-stage-init">Initialize</span>
          <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
          <span class="center cycle-stage cycle-stage-assess">Assess</span>
          <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
          <span class="cycle-stage cycle-stage-done">Done?</span>
          <span class="cycle-arrow-done">‚¨áÔ∏è</span>
          <span class="cycle-stage cycle-stage-select">Select</span>
          <span class="center cycle-arrow-select">‚û°Ô∏è</span>
          <span class="cycle-stage cycle-stage-breed">Breed</span>
          <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
          <span class="cycle-stage cycle-stage-mutate">Mutate</span>
          <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
          <aside class="notes">
            . . . go back to step 2, assessing their fitness.&nbsp;
            <span data-time-min="40">
              (You might want to take a picture of this slide
              and the next one,
              because they're the big takeaways about
              how genetic algorithms work at a high level.&nbsp;
              I'll give you a moment to get out your phones.)&nbsp;
            </span>
            This sequence could be represented at a high level
            with some rather simple code, like so:
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: 0.9em"><code data-trim class="language-ruby">
how_many = 10  # or however big we want
pop = initial_pop(how_many)
evaluate(pop)
while not done?(pop)
  breeders = select_breeders(pop)
  pop = breed(breeders, how_many)
  mutate(pop)
  evaluate(pop)
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            <span data-not-if-conf-prog-lang="ruby">
              <span data-not-if-conf-prog-lang="n/a">
                I know this conference is mainly focused on $WHATEVER, but this
              </span>
              <span data-if-conf-prog-lang="n/a">This</span>
              code is in Ruby.&nbsp;
              I chose that to reduce boilerplate overhead,
              and because it reads so close to plain English,
              so even if you don't know Ruby,
              I'm confident you'll understand the ideas,
              and maybe even the actual code.
              <span data-time-min="40">
                I'll try to remember to explain any
                weird bits of Ruby syntax.
              </span>
            </span>

            <br><br>

            Now let's take a closer look at
            <span data-time-min="35">what goes on in</span>
            each step,
            by working through an example.
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="current-step center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
          </div>
          <aside class="notes">
            First we create an initial population of candidates.&nbsp;
            But what is a candidate, and how do we create one?&nbsp;
            These are different solutions to some problem,
            usually represented as
            different instances of the same data structure.&nbsp;
            <span data-time-min="35">
              They could be
              any data structure we want,
              so long as we can
              evaluate their fitness,
              combine old ones
              to make a new one,
              and mutate them.&nbsp;
            </span>
            The simplest common type of candidate is . . .
          </aside>
        </section>

        <section>
          <div class="all vctring" style="font-size: .7em">
            <b>
              <code>
                01001000<br>
                01100101<br>
                01101100<br>
                01101100<br>
                01101111<br>
                00100000<br>
                01110111<br>
                01101111<br>
                01110010<br>
                01101100<br>
                01100100<br>
                00100001<br>
              </code>
            </b>
          </div>
          <aside class="notes">
            . . . a simple string of bits.&nbsp;
            This will do fine for candidates that consist of
            a simple series of yes/no decisions.&nbsp;
            This may sound simplistic,
            but there is a huge class of problems that boil down to this,
            called . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/backpack.png" class="expand-tall">
            <div style="font-size: 1.8em; font-weight: bold">
              Knapsack /<br>Rucksack /<br>Backpack /<br>Whatever!
            </div>
          </div>
          <span class="slide-caption">Image: https://publicdomainvectors.org/en/free-clipart/Rucksack-vector-image/9910.html</span>
          <aside class="notes">
            . . . knapsack problems<span data-time-min="40">,
            which is a category of
            constrained resource allocation problems</span>.&nbsp;
            The canonical example is that you have a knapsack<span data-time-min="40">
              (or rucksack, backpack, or whatever you call it)</span>,
            and many things you want to carry in it,
            but they won't all fit,
            <span data-time-max="39">so</span>
            <span data-time-min="35">
            or the total weight is more than you can carry,
            or some such similar constraint,
            or <i>combination</i> of constraints.&nbsp;
            So
            </span>
            you want to find the combination of items,
            that will fit<span data-time-min="35"> the constraints</span>,
            and has the maximum value.&nbsp;
            <span data-time-min="35">
              That could be the literal cash value,
              or something more metaphorical.&nbsp;
              <span data-time-min="40">
                In the canonical example,
                you might be taking the knapsack on a camping trip,
                so you want to pack whatever supplies you might need,
                for your survival, or at least your comfort.&nbsp;
                Different items will have different levels of importance
                for those purposes.&nbsp;
                For instance, common . . .
              </span>
            </span>
            <span data-time-max="39">
              To look at a concrete example, suppose we know . . .
            </span>
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vcntring">
            <img src="images/camping-supplies.jpg">
          </div>
          <span class="slide-caption">Image: forgot source, it's all over the web</span>
          <aside class="notes">
            . . . camping supplies would be
            much more valuable in this context than, say,
            an accordion, especially per kilogram or cubic centimeter.
            <span data-time-min="60">
              &nbsp;In fact, if other people are camping there,
              an accordion might even have <i>negative</i> value!
            </span>

            <br><br>

            There is a standard heuristic for knapsack problems,
            of simply adding the most valuable item that will fit,
            until we can't fit anything more.&nbsp;
            However, it's easy to envision times when that would not
            get us the best solution.&nbsp;
            <span data-time-min="60">
              For instance, suppose . . .
            </span>
            <span data-time-max="59">
            <br><br>

              To look at a concrete example, suppose we know . . .
            </span>
          </aside>
        </section>

        <section data-time-min="60">
          <div class="all vcntring"><img src="images/desert.jpg"></div>
          <span class="slide-caption">Image: https://www.pexels.com/photo/person-in-white-shirt-walking-on-desert-4253829/</span>
          <aside class="notes">

            . . . you're lost in the desert,
            with knapsack that has a ten-liter capacity,
            and coincidentally nothing left in it,
            and you stumble across four bottles of water.&nbsp;
            Ignoring the volume of the bottle material,
            and their exact shapes,
            they hold . . .
          </aside>
        </section>

        <section data-time-min="60">
          <br>
          <img src="images/water-bottle.png" height="317">
          &nbsp;
          <img src="images/water-bottle.png" height="363">
          &nbsp;
          <img src="images/water-bottle.png" height="400">
          &nbsp;
          <img src="images/water-bottle.png" height="431">
          <span class="slide-caption">Image: https://www.rawpixel.com/image/9007646/png-white-background-people</span>
          <aside class="notes">
            . . . two, three, four, and five liters.&nbsp;
            That totals 14 liters, so you can't take them all.&nbsp;
            The standard heuristic would have us first take the five,
            and then the four, and then we can't fit anything more.&nbsp;
            But if you think about it a moment, it's fairly clear that
            we should leave the four and take the rest.&nbsp;
            That is, take the five, three, and two, totaling ten,
            which is the exact capacity of our knapsack,
            so we definitely can't do any better.

            <br><br>

            To look at an example of how to solve a knapsack problem
            by using a genetic algorithm,
            suppose we know . . .
          </aside>
        </section>

        <section>
          <div class="all vcntring" style="font-size: 9em">
            üßëüèΩ‚Äçüåæ
            üöö
          </div>
          <span class="slide-caption">Image: standard emoji</span>
          <aside class="notes">
            . . . a farmer,
            with a smallish truck,
            and he needs to decide what to take to market each week.&nbsp;
            And on this farm he has . . .
          </aside>
        </section>

        <section>
          <div class="vctring" style="font-size: 4em">
            üêÑ üêÑ üêÑ üêÑ
             üêÑ üêÑ üêÑ
          </div>
          <span class="slide-caption">Images: standard emoji</span>
          <aside class="notes">
            . . . some cows.&nbsp;
            (E-I-E-I-O!)&nbsp;
            So among the things he can take to market are:
          </aside>
        </section>

        <section>
          <div class="all vctring" style="font-size: 4em">
            <div>
              üêÑ
              ü•õ
              üßÄ
              üßà
              üç®
              ü•©
              <span style="background-image: url(images/leather.png)">&nbsp;&nbsp;&nbsp;</span>
            </div>
          </div>
          <span class="slide-caption">Images: standard emoji plus https://www.rawpixel.com/image/6130389/</span>
          <aside class="notes">
            . . . cows,
            milk,
            cheese,
            butter,
            ice cream,
            meat,
            and leather.&nbsp;
            <span data-time-min="40">
              (My apologies to any vegetarians out there.)&nbsp;
            </span>
            For the sake of simplicity,
            we won't differentiate between
            price and profit,
            nor dairy versus meat cows,
            and
            <span data-time-min="40">
              I know it's very unrealistic but we'll assume
              <span data-time-min="60">
                (despite what Benny Hill taught me happens then)
              </span>
              that
            </span>
            he can only take a set amount of each item,
            and always has that amount on hand.&nbsp;
            His truck has <i>room</i> to take all the items,
            but it can only carry so much <i>weight</i>,
            so that's our constraint.&nbsp;
            His choices are as follows:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.9em">
              <thead>
                <tr>
                  <th class="text">What</th><th class="fade text">Unit</th><th class="fade">Qty</th><th>Pounds</th><th>Value</th><!--<th>$/lb</th>-->
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text">Cow</td><td class="fade text">cow</td><td class="fade">1</td><td>1,500</td><td>$2,000</td><!-- <td>$1.33</td> -->
                </tr>
                <tr>
                  <td class="text">Milk</td><td class="fade text">1-gal jug</td><td class="fade">200</td><td>1,720</td><td>$800</td><!-- <td>$0.47</td> -->
                </tr>
                <tr>
                  <td class="text">Cheese</td><td class="fade text">5-lb wheel</td><td class="fade">200</td><td>1,000</td><td>$12,000</td><!-- <td>$12.00</td> -->
                </tr>
                <tr>
                  <td class="text">Butter</td><td class="fade text">1-lb block</td><td class="fade">1,000</td><td>1,000</td><td>$3,000</td><!-- <td>$3.00</td> -->
                </tr>
                <tr>
                  <td class="text">Ice Cream</td><td class="fade text">1-gal tub</td><td class="fade">200</td><td>1,000</td><td>$2,000</td><!-- <td>$2.00</td> -->
                </tr>
                <tr>
                  <td class="text">Meat</td><td class="fade text">side</td><td class="fade">4</td><td>1,280</td><td>$8,000</td><!-- <td>$6.25</td> -->
                </tr>
                <tr>
                  <td class="text">Leather</td><td class="fade text">hide</td><td class="fade">20</td><td>1,100</td><td>$6,000</td><!-- <td>$5.45</td> -->
                </tr>
                <tr><td colspan="5"><hr></td></tr><tr>
                  <td class="text" colspan="2">TOTAL WEIGHT:</td><td></td><td>8,600</td><td></td><!-- <td></td> -->
                </tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            You don't need to remember all that,
            just notice that
            it totals 8,600 pounds.&nbsp;
            But, his truck's suspension
            can only handle
            two tons, in other words, 4,000 pounds.&nbsp;
            <span data-time-min="40">
              (Don't get me started on stupid American units of measure!)&nbsp;
            </span>

            <br>
            <br>

            <span data-time-max="39">So</span>
            <span data-time-min="40">
              We <i>could</i> brute-force the problem
              by running through all the combinations,
              and see which of
              the light-enough ones
              totals the highest value.&nbsp;
              Or we could use the standard heuristic.&nbsp;
              But
            </span>
            let's see what happens if we use a genetic algorithm
            to determine a "good enough" truckload.&nbsp;
            First we need a way to represent each candidate.&nbsp;
            In code, we could represent them as a class,
            and create one randomly,
            like so:
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: 1.4em"><code data-trim class="language-ruby">
class Truckload
  attr_reader :contents
  def initialize()
    @contents = rand(128)
  end
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            <span data-time-min="60">
              To explain the Ruby, the attr_reader bit means that
              objects made from this class have
              a readable data member called "contents".&nbsp;
              That is set when we use "@contents =".&nbsp;
              As for what it's setting that to:
            </span>
            <span data-time-min="35">
              Whoa, that looks like we're just making a random number!&nbsp;
              That's right!&nbsp;
            </span>
            Making a random number
            <i>from 0 to 2^7-1</i>,
            gives us a random 1 or 0
            for each of our seven possible items.&nbsp;
            We could get as complex as we want in this function,
            like dictating a minimum or maximum number of items,
            but let's keep it simple.

            <br><br>

            To create an initial population,
            we can just create a bunch of candidates
            and stuff them into an array, . . .
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: 0.9em"><code data-trim class="language-ruby">
def self.initial_population(how_many)
  population = []
  for i in 1..how_many
    population.append(self.new)
  end
  return population
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            . . . like so.&nbsp;
            (This could actually be done in much more idiomatic Ruby,
            so those of you who do know Ruby,
            please don't scold me for that,
            I'm just trying to keep it easily understandable by
            people who don't know Ruby.)&nbsp;
            <span data-time-min="60">
              The "self." bit on the declaration means that
              this is a <i>class</i> method,
              as opposed to an <i>instance</i> method,
              so it doesn't refer to the particulars of an instance.&nbsp;
              The two dots make a range, inclusive on both ends,
              and self.new means "take this class and make a new instance",
              with no arguments being passed in to the creation.&nbsp;
            </span>
            So if we create a population of ten Truckloads,
            we might wind up with a list like this:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table class="centered" style="font-size: 0.8em">
              <thead>
                <tr>
                  <th>Cow</th>
                  <th>Milk</th>
                  <th>Cheese</th>
                  <th>Butter</th>
                  <th>Ice Cream</th>
                  <th>Meat</th>
                  <th>Leather</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>Y</td></tr>
                <tr><td>N</td><td>N</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td>N</td><td>Y</td><td>N</td><td>N</td><td>N</td><td>Y</td><td>N</td></tr>
                <tr><td>N</td><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td>Y</td><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>Y</td><td>N</td></tr>
                <tr><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>N</td></tr>
                <tr><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td></tr>
                <tr><td>Y</td><td>Y</td><td>N</td><td>N</td><td>N</td><td>N</td><td>N</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            Why ten?&nbsp;
            Because that's what fits on the screen
            in a decently readable size<span data-time-min="40">,
              even all the way in the back</span>.&nbsp;
            If I were doing this for real,
            <span data-time-min="40">with a much more complex domain,</span>
            I might use a hundred, a thousand, a million, or even more.

            <br><br>

            <div data-time-min="40">
              But how did we get from random numbers to those combinations?&nbsp;
              Behind the scenes, that translation might look like this:
            </div>
            <div data-time-max="39">
              We can get from random numbers to those combinations,
              by iterating over the bits and seeing which are turned on,
              but in the interests of time,
              I'll handwave over those details.&nbsp;
              Next, we . . .
            </div>
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre><code data-trim class="language-ruby">
class Truckload
  class Item
    attr_reader :name, :weight, :value
    def initialize(name, weight, value)
      @name   = name
      @weight = weight
      @value  = value
    end
  end
  ITEMS = [
    Item.new("Cow",       1500,  2000),
    Item.new("Milk",      1720,   800),
    Item.new("Cheese",    1000, 12000),
    Item.new("Butter",    1000,  3000),
    Item.new("Ice Cream", 1000,  2000),
    Item.new("Meat",      1280,  8000),
    Item.new("Leather",   1100,  6000)
  ]
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            We have a list of items we <i>can</i> take,
            as instances of <i>another</i> class describing them,
            with name, weight, and value attributes.&nbsp;
            (In this example it's an inner class,
            but it doesn't <i>have</i> to be.)&nbsp;
            To check what's in our cargo manifest,
            represented by our Truckload's contents value,
            we can iterate through the list of possible items,
            checking whether the corresponding bit is on.&nbsp;
            In the interests of time,
            I'll handwave over those details.&nbsp;
            Alternately, it could be implemented
            as an array of booleans, or even a hash, rather than a bitfield,
            but I wanted to illustrate the "string of bits" type of chromosome.

            <br><br>

            Now that we're done with Initialization, we . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="current-step center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-assess">‚Üë</span>
          </div>
          <aside class="notes">
            . . . assess how "fit" each of these truckloads is.&nbsp;
            We do this with something called a "fitness function".&nbsp;
            (Surprise!)&nbsp;
            <span data-time-min="35">
              Just like how biological creatures might be perfectly fit
              for one environment but a lousy fit for another,
              this should reflect
              how fit a candidate is
              <i>for some particular purpose</i>.&nbsp;
            </span>
            In this case, we already know we want the total cash value,
            BUT, any load that's too heavy for the truck, is worthless.&nbsp;
            In Ruby, that would look like this:
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: 0.7em"><code data-trim class="language-ruby">
def fitness()
  items = (0...ITEMS.count).
    select { |idx| bit_on?(idx) }.
    map { |idx| ITEMS[idx] }
  weight = items.map(&:weight).sum
  if weight &gt; 4000
    return 0
  else
    return items.map(&:value).sum
  end
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            We decode which items we want to take
            (abstracting away the actual bit-checking again for simplicity),
            <span data-time-min="60">
              by iterating over the item numbers,
              from zero up to the number of items <i>minus one</i>
              (that's what the <i>three</i> dots means),
            </span>
            then sum up their weights.&nbsp;
            <span data-time-min="60">
              That ampersand-colon syntax means to
              call that method on each one.&nbsp;
              So for instance the first time,
              it's calling .weight on each one.&nbsp;
            </span>
            If that exceeds the truck's capacity, we return zero,
            else we sum up their <i>values</i>.

            <br><br>

            Again,
            we could get as complex as we want in this function,
            and NASA's <i>antenna</i> fitness function
            certainly must have been.&nbsp;
            For instance, we could take into account
            the costs of <i>refrigerating</i> or <i>freezing</i>
            any items that need it.
            <span data-time-min="50">
              &nbsp;And if the truck were even smaller,
              and we had the <i>volume</i> of each item,
              we could also total up the volume,
              and make sure it all fits.&nbsp;
              We could even take into account very long or flat shapes,
              so that for instance
              a flagpole or a very large sheet of particleboard
              might not fit,
              even though its weight and total volume
              may be relatively small.
            </span>

            <br><br>

            If we run this fitness function on our population,
            and sort on fitness descending,
            <span data-time-min="35">to make it easy to find the best,</span>
            we get this:
          </aside>
        </section>

        <section>
          <div class="all vctring" style="font-size: 0.8em">
            <table class="centered">
              <thead>
                <tr>
                  <th>Cow</th>
                  <th>Milk</th>
                  <th>Cheese</th>
                  <th>Butter</th>
                  <th>Ice Cream</th>
                  <th>Meat</th>
                  <th>Leather</th>
                  <th>Fitness</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td><td class="numeric">20,000</td></tr>
                <tr><td>N</td><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td><td class="numeric">14,800</td></tr>
                <tr><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td class="numeric">13,000</td></tr>
                <tr><td>N</td><td>Y</td><td>N</td><td>N</td><td>N</td><td>Y</td><td>N</td><td class="numeric">8,800</td></tr>
                <tr><td>N</td><td>N</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td>N</td><td class="numeric">5,000</td></tr>
                <tr><td>Y</td><td>Y</td><td>N</td><td>N</td><td>N</td><td>N</td><td>N</td><td class="numeric">2,800</td></tr>
                <tr><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>Y</td><td class="numeric">0</td></tr>
                <tr><td>Y</td><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td class="numeric">0</td></tr>
                <tr><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>N</td><td class="numeric">0</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td class="numeric">0</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            Remember that 20,000 figure.

            <br><br>

            So now that we've assessed their fitness, we . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="current-step cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-done">‚Üë</span>
          </div>
          <aside class="notes">
            . . . check if we're done.&nbsp;
            So what are our criteria?&nbsp;
            The function can be simple,
            but it can take some thinking to figure out
            what the function should <i>do</i>.&nbsp;
            With a knapsack problem,
            a good solution,
            especially the best,
            can be made totally worthless by
            adding just one more . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/mr-creosote.png">
          <span class="slide-caption">Image: https://images.squarespace-cdn.com/content/v1/5dace41dae7efb0296d47681/1617070720932-SD9B9QT535LA555Q2U19/python.png (used for edu fair use)</span>
          </div>
          <aside class="notes">
            . . . waffer-theen item,
            and thereby exceeding the constraints.&nbsp;
            So, we're going to record the best we've seen,
            and stop if we don't see anything better
            within 100 generations.

            <br><br>

            <span data-time-min="35">
              Why 100?&nbsp;
              Pretty much random.&nbsp;
              It seems like enough for a good chance for improvement,
              and since what we're doing is so simple,
              and our population is so small,
              using lots of generations isn't very slow.&nbsp;
            </span>

            In Ruby, that would look like this:
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: .6em"><code data-trim class="language-ruby">
@@best_combo = self.new(0)
@@generations = 0

def self.done?(population)
  @@generations += 1
  better = population.
    select { |c| c.fitness &gt; @@best_combo.fitness }
  if better.any?
    @@best_combo = better.sort_by(&:fitness).last
    @@generations = 0
    return false
  else
    return @@generations &gt;= 100
  end
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            When this code is initially run,
            to <i>define</i> the function,
            we set the initial best combo as empty,
            and we set how many generations it's been since we saw that,
            as zero, both as class variables<span data-time-min="40">;
            that's what the double at-signs means</span>.&nbsp;
            When the function is <i>called</i>,
            we increment the number of generations,
            look at the fitness of the current candidates,
            and select the ones with a better fitness than
            our benchmark.&nbsp;
            If there <i>are</i> any better candidates,
            we make the fittest one our <i>new</i> benchmark,
            reset the generation counter,
            and return false.&nbsp;
            Else if it's been 100 generations since the best one,
            we return true,
            else we return false.&nbsp;

            <br><br>

            Again, we can get as complex as we want,
            not only in checking the maximum fitness,
            but we could look at other stopping criteria, like
            <span data-time-min="35">
              the average or minimum fitness, or
            </span>
            achieving some specific level of maximum fitness,
            some maximum number of generations,
            or amount of time,
            <span data-time-min="35">
              (whether clock time or CPU or whatever),
            </span>
            or let the user click a STOP button,
            or many other ways,
            or a combination of ways.

            <br><br>

            Since we're <i>not</i> done, the next step is to . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="current-step cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-select">‚Üë</span>
          </div>
          <aside class="notes">
            . . . select some candidates to
            breed the next generation.&nbsp;
            The <i>obvious</i> way is to take the top two most fit, like so:
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: 1.0em"><code data-trim class="language-ruby">
def self.select_breeders(population)
  return population.
    sort_by(&:fitness).
    reverse.
    take(2)
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            We take the population,
            sort them by fitness in descending order,
            and take the first two.&nbsp;
            Out of our current population, that would choose:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table class="centered" style="font-size: 0.8em">
              <thead>
                <tr>
                  <th>Cow</th>
                  <th>Milk</th>
                  <th>Cheese</th>
                  <th>Butter</th>
                  <th>Ice Cream</th>
                  <th>Meat</th>
                  <th>Leather</th>
                  <th>Fitness</th>
                </tr>
              </thead>
              <tbody>
                <tr><td colspan="8"><br></td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td><td class="numeric">20,000<br></td></tr>
                <tr><td colspan="8"><br></td></tr>
                <tr><td>N</td><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td><td class="numeric">14,800</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            these two.&nbsp;

            As usual, we also could get more complicated,
            and there are some more complex common alternatives,
            that we will look into later.

            <span data-time-min="35">
              <br><br>

              We could also take more than two,
              whether to combine more than two at once
              or to breed all pairs in that set,
              or larger subsets,
              such as all trios out of
              a set of five breeders<span data-time-min="40">,
                or even randomly choose those subsets</span>.
            </span>

            <br><br>

            Now that we've chosen our breeders, next we . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="current-step cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-breed">‚Üë</span>
          </div>
          <aside class="notes">
            . . . breed them.&nbsp;
            The usual way is called crossover.&nbsp;
            This consists of taking the data points from one parent,
            up to some randomly chosen crossover point,
            then switching to the other parent.&nbsp;
            In Genetic Algorithm terms,
            each <i>place</i> in the list
            is called a "gene" (that's where the name comes from),
            and the actual <i>value</i> there
            <span data-time-min="40">
            (in this case a yes/no <i>decision</i>)
            </span>
            is called an <i>allele</i>.&nbsp;
            <span data-time-max="39">
              In Ruby, that could look like this:
            </span>
            <span data-time-min="40">
              This can be extended with multiple crossover points,
              especially in the case of multiple parents being combined,
              but we're just going to use one, like so:</span>
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: .8em"><code data-trim class="language-ruby">
def self.breed(p1, p2)
  cross_point = rand(ITEMS.count + 1)
  list = (0..ITEMS.count).
    map { |index|
      parent = index &lt; cross_point ? p1 : p2
      parent.contents & (1 &lt;&lt; index)
    }.
    sum
  return self.new(list)
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            We establish the crossover point
            for each new candidate,
            as a random number
            between zero and how many items there are,
            inclusive.&nbsp;
            Then we iterate through the list of items<span data-time-min="40">,
              by index number</span>.&nbsp;
            If we haven't yet hit the crossover point,
            we get the decision for that item from the first parent,
            else we get it from the other parent.&nbsp;
            <span data-time-min="35">
              This means that it could be all copied
              from one parent or the other,
              or it could switch at some point.&nbsp;
            </span>
            We could just copy the sets of bits,
            but the code for that would be
            more complex and non-portable
            than I want to explain here.

            <br><br>

            As usual, we could get as complex as we want,
            like making some crossover points
            more or less likely, or even
            mandatory or forbidden.&nbsp;
            <span data-time-min="60">
              Some approaches also automatically include
              the solution that would be generated by
              using the breeders in the opposite order,
              in other words,
              starting with the alleles of the <i>second</i> parent
              and crossing over to the <i>first</i>.&nbsp;
            </span>
            But we're going to keep it simple.
            <br><br>

            If we use this function once, with a crossover point of 3,
            <span data-time-min="35">
              so we take 3 values from the first parent,
              and the rest from the other,
            </span>
            that would get us a result like this:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table class="centered" style="font-size: 0.9em">
              <thead>
                <tr>
                  <th>Cow</th>
                  <th>Milk</th>
                  <th>Cheese</th>
                  <th>Butter</th>
                  <th>Ice Cream</th>
                  <th>Meat</th>
                  <th>Leather</th>
                </tr>
              </thead>
              <tbody>
                <tr><td colspan="7"><br></td></tr>
                <tr class="up"><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td></tr>
                <tr><td colspan="7" style="text-align: center">+</td></tr>
                <tr class="down"><td>N</td><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td colspan="7" style="text-align: center">=</td></tr>
                <tr><td class="up">N</td><td class="up">N</td><td class="up">Y</td><td class="down">N</td><td class="down">Y</td><td class="down">N</td><td class="down">N</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            But this is just one of ten results,
            because we're making a whole new population, like so:
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: 0.8em"><code data-trim class="language-ruby">
def self.new_population(p1, p2, how_many)
  population = []
  for i in 1..how_many
    population.append(self.breed(p1, p2))
  end
  return population
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            This is just like how we created the initial population,
            except that instead of each candidate being
            made from scratch,
            they're the product of breeding our chosen breeders.&nbsp;
            The whole list might look like this:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table class="centered" style="font-size: 0.8em">
              <thead>
                <tr>
                  <th>Cow</th>
                  <th>Milk</th>
                  <th>Cheese</th>
                  <th>Butter</th>
                  <th>Ice Cream</th>
                  <th>Meat</th>
                  <th>Leather</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td>N</td><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>N</td><td>N</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            Lots of family resemblance there, eh?&nbsp;
            None of these loads include a cow, butter, or leather,
            and they all include cheese.&nbsp;
            That's because both of our two breeders were like that.&nbsp;
            Or in Genetic Algorithms terms, both <i>chromosomes</i> had
            the same <i>alleles</i> for each of those <i>genes</i>.&nbsp;
            If we were to just continue
            breeding the fittest of each generation,
            we wouldn't <i>ever</i> see any loads
            including a cow, butter, leather, or no cheese,
            but we fix that in the next step, which is to . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="current-step cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-mutate">‚Üë</span>
          </div>
          <aside class="notes">
            . . . mutate them.&nbsp;
            Again, I'm going to keep it very simple,
            and give each gene
            a 1 in 4 chance of flipping.&nbsp;
            In code, that looks like this:
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: 1em"><code data-trim class="language-ruby">
def maybe_mutate()
  (0..ITEMS.count).each do |index|
    if rand(4) == 0
      @contents ^= (1 &lt;&lt; index)
    end
  end
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            We iterate through the item numbers,
            and for each one,
            if a random number from zero to three is a zero,
            we flip that bit.&nbsp;
            Again, we could get as complex as we want,
            like having some genes more or less likely to mutate than others,
            <span data-time-min="60">maybe even mandatory or forbidden,</span>
            or having some minimum or maximum
            number of mutations per candidate,
            or all kinds of other options.&nbsp;
            If we run this mutation function
            on these new candidates,
            we might wind up with something like this:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table class="centered" style="font-size: 0.8em">
              <thead>
                <tr>
                  <th>Cow</th>
                  <th>Milk</th>
                  <th>Cheese</th>
                  <th>Butter</th>
                  <th>Ice Cream</th>
                  <th>Meat</th>
                  <th>Leather</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>N</td><td class="changed">Y</td><td class="changed">N</td><td class="changed">Y</td><td class="changed">N</td><td>N</td><td class="changed">Y</td></tr>
                <tr><td>N</td><td class="changed">N</td><td>Y</td><td class="changed">Y</td><td class="changed">N</td><td>N</td><td>N</td></tr>
                <tr><td class="changed">Y</td><td>N</td><td>Y</td><td class="changed">Y</td><td>Y</td><td class="changed">Y</td><td>N</td></tr>
                <tr><td class="changed">Y</td><td class="changed">Y</td><td>Y</td><td class="changed">Y</td><td class="changed">Y</td><td>Y</td><td>N</td></tr>
                <tr><td class="changed">Y</td><td class="changed">Y</td><td>Y</td><td class="changed">Y</td><td class="changed">N</td><td>N</td><td class="changed">Y</td></tr>
                <tr><td>N</td><td class="changed">Y</td><td class="changed">N</td><td class="changed">Y</td><td class="changed">N</td><td>N</td><td class="changed">Y</td></tr>
                <tr><td class="changed">Y</td><td class="changed">Y</td><td class="changed">N</td><td class="changed">Y</td><td>N</td><td>N</td><td class="changed">Y</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td class="changed">Y</td><td>N</td><td class="changed">N</td><td class="changed">Y</td><td>Y</td><td>N</td><td>N</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td class="changed">Y</td><td class="changed">N</td><td>N</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . where green means that it changed.&nbsp;
            You can see that we now DO have some truckloads that
            include a cow, butter, or leather, or no cheese.&nbsp;
            Now we go back to . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="current-step center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-assess">‚Üë</span>
          </div>
          <aside class="notes">
            . . . assessing the fitness of
            these new candidates,
            and we get this:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table class="centered" style="font-size: 0.8em">
              <thead>
                <tr>
                  <th>Cow</th>
                  <th>Milk</th>
                  <th>Cheese</th>
                  <th>Butter</th>
                  <th>Ice Cream</th>
                  <th>Meat</th>
                  <th>Leather</th>
                  <th>Fitness</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>N</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td>N</td><td>N</td><td class="numeric">15,000</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td><td class="numeric">14,000</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td><td class="numeric">14,000</td></tr>
                <tr><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td class="numeric">9,800</td></tr>
                <tr><td>N</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td class="numeric">9,800</td></tr>
                <tr><td>Y</td><td>N</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td>N</td><td class="numeric">7,000</td></tr>
                <tr><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td class="numeric">0</td></tr>
                <tr><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td>N</td><td class="numeric">0</td></tr>
                <tr><td>Y</td><td>N</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td>N</td><td class="numeric">0</td></tr>
                <tr><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td class="numeric">0</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            Oh noes!&nbsp;
            Our maximum fitness actually went <i>down!</i>&nbsp;
            As you may recall,
            our previous best one scored 20,000.&nbsp;
            But don't worry,
            as you may recall from our "are we done yet" function,
            we <i>hang onto</i> the best one,
            and just try to outdo it,
            so we haven't lost it.

            <span data-time-min="35">
              <br><br>

              But that's not really the best approach.&nbsp;
              Remember how I said that sometimes
              the fittest members of a population
              might be carried over into the next one?&nbsp;
              If I had carried over the fittest one,
              the maximum fitness would never go down,
              so the "are we done" function could have been a bit simpler,
              and we'd be done a bit faster.&nbsp;
              But, I didn't think of it
              until I had already made all the slides for this talk,
              and I didn't want to redo them.&nbsp;
              Also, I think this version is still worth exploring,
              to make the point that
              the fitness can go down and then come back up.&nbsp;
              So let's keep going.

              <br><br>
            </span>

            The next generation might look like this:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table class="centered" style="font-size: 0.8em">
              <thead>
                <tr>
                  <th>Cow</th>
                  <th>Milk</th>
                  <th>Cheese</th>
                  <th>Butter</th>
                  <th>Ice Cream</th>
                  <th>Meat</th>
                  <th>Leather</th>
                  <th>Fitness</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>N</td><td>Y</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td><td class="numeric">20,800</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td><td class="numeric">20,000</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td><td class="numeric">20,000</td></tr>
                <tr><td>N</td><td>N</td><td>N</td><td>N</td><td>N</td><td>Y</td><td>Y</td><td class="numeric">14,000</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>N</td><td>N</td><td class="numeric">12,000</td></tr>
                <tr><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td class="numeric">2,800</td></tr>
                <tr><td>Y</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td class="numeric">0</td></tr>
                <tr><td>Y</td><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td class="numeric">0</td></tr>
                <tr><td>N</td><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td class="numeric">0</td></tr>
                <tr><td>N</td><td>Y</td><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td class="numeric">0</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . a small improvement over our prior best!&nbsp;
            So, we set that top one as our benchmark,
            and reset the counter of generations since we saw it.&nbsp;
            If we let this run to completion,
            <span data-time-min="40">
              with a few more occasions of a new best combo being found,
            </span>
            <!--
              (but I forgot to keep track of that while making these slides),
            -->
            we might wind up with something like this:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table class="centered" style="font-size: 0.8em">
              <thead>
                <tr>
                  <th>Cow</th>
                  <th>Milk</th>
                  <th>Cheese</th>
                  <th>Butter</th>
                  <th>Ice Cream</th>
                  <th>Meat</th>
                  <th>Leather</th>
                  <th>Fitness</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>N</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>Y</td><td class="numeric">26,000</td></tr>
                <tr><td>N</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td class="numeric">21,000</td></tr>
                <tr><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td class="numeric">10,800</td></tr>
                <tr><td>Y</td><td>N</td><td>N</td><td>N</td><td>N</td><td>N</td><td>Y</td><td class="numeric">8,000</td></tr>
                <tr><td>N</td><td>N</td><td>N</td><td>N</td><td>N</td><td>Y</td><td>N</td><td class="numeric">8,000</td></tr>
                <tr><td>N</td><td>N</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td>N</td><td class="numeric">5,000</td></tr>
                <tr><td>N</td><td>Y</td><td>N</td><td>N</td><td>N</td><td>N</td><td>N</td><td class="numeric">8,00</td></tr>
                <tr><td>N</td><td>Y</td><td>N</td><td>N</td><td>N</td><td>N</td><td>N</td><td class="numeric">8,00</td></tr>
                <tr><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>Y</td><td class="numeric">0</td></tr>
                <tr><td>Y</td><td>Y</td><td>N</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td class="numeric">0</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            <!-- Actually, that that top line there,
            with just cheese, meat, and leather,
            is the best combination
            I've ever seen this particular system produce. -->
            . . . with our best truckload scoring 26,000,
            made up of cheese, meat, and leather.

            <br><br>

            So that's one complete run of a genetic algorithm.&nbsp;
            If we wanted to check whether
            that was the best that this algorithm could produce,
            we could just run it again, as many times as we like,
            within reason,
            since it's so much faster than brute force.&nbsp;
            Okay, maybe writing all this code
            is not so much faster
            when we've only got seven items,
            and such simple criteria,
            but if we had to choose among many more items,
            with more complex criteria,
            for many truckloads a day,
            creating a genetic algorithm
            might well be worthwhile.

            <br><br>

            Now, suppose we want to evolve
            solutions to a different huge class of problems:
            . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/traveling-salesman-xkcd.png" class="expand-wide">
          </div>
          <span class="slide-caption">Image: https://xkcd.com/399/</span>
          <aside class="notes">
            . . . Traveling Salesman problems.&nbsp;
            The canonical example is that
            you're literally a traveling salesman,
            <span data-time-min="60">
              though these days we'd probably say sales<i>person</i>,
            </span>
            and you want to find the shortest route
            to visit a list of cities.&nbsp;
            Realistically, we may want to include other factors, such as
            the time or money it takes to get there,
            which may not be proportional to the distance,
            and the expected time to spend in each city.&nbsp;
            But to keep this example simple,
            we'll just look at the distance.

            <br><br>

            <span data-time-min="50">
              As you see here in this XKCD comic strip,
              the size of the solution space grows as
              the <i>factorial</i> of the number of cities,
              but there are rather advanced approaches that
              bring the search time down to
              n-squared times two-to-the-n,
              which is <i>still</i> quite a lot.&nbsp;
              There is also a common heuristic,
              of just constantly going to the nearest unvisited city,
              which of course is much faster to come up with a plan,
              but this yields on average a route 25% longer than the best.&nbsp;
              But of course, we're going to explore what happens if we
              use a genetic algorithm.

              <br><br>
            </span>

            Our list of cities will be
            the capitals of mainland Europe, west of Germany.&nbsp;
            In alphabetical order, that's:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/western-europe.png">
          </div>
          <span class="slide-caption">Image: modified from https://www.mapchart.net/europe.html</span>
          <aside class="notes">
            Amsterdam, Andorra la Vella, Brussels, Lisbon, Luxembourg, Madrid,
            Monte Carlo<span data-time-min="60">,
              (the <i>unofficial</i> capital of Monaco,
              which doesn't have an official capital
              but all the government buildings are in
              the <i>neighborhood</i> called Monte Carlo)</span>,
            and Paris.&nbsp;
            We have the . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table class="distances">
              <tr>
                <th>
                  <span style="float: right">To</span>
                  <br>
                  <span style="float: left">From</span>
                </th>
                <th class="numeric">AND</th>
                <th class="numeric">BRU</th>
                <th class="numeric">LIS</th>
                <th class="numeric">LUX</th>
                <th class="numeric">MAD</th>
                <th class="numeric">MTC</th>
                <th class="numeric">PAR</th>
              </tr>
              <tr>
                <td>AMS</td>
                <td class="numeric">1357</td>
                <td class="numeric">210</td>
                <td class="numeric">2233</td>
                <td class="numeric">417</td>
                <td class="numeric">1773</td>
                <td class="numeric">1421</td>
                <td class="numeric">502</td>
              </tr>
              <tr>
                <td>AND</td>
                <td class="numeric">-</td>
                <td class="numeric">1162</td>
                <td class="numeric">1232</td>
                <td class="numeric">1178</td>
                <td class="numeric">613</td>
                <td class="numeric">653</td>
                <td class="numeric">862</td>
              </tr>
              <tr>
                <td>BRU</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">2038</td>
                <td class="numeric">213</td>
                <td class="numeric">1577</td>
                <td class="numeric">1200</td>
                <td class="numeric">307</td>
              </tr>
              <tr>
                <td>LIS</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">2153</td>
                <td class="numeric">625</td>
                <td class="numeric">1838</td>
                <td class="numeric">1739</td>
              </tr>
              <tr>
                <td>LUX</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">1691</td>
                <td class="numeric">1041</td>
                <td class="numeric">386</td>
              </tr>
              <tr>
                <td>MAD</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">1288</td>
                <td class="numeric">1278</td>
              </tr>
              <tr>
                <td>MTC</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">-</td>
                <td class="numeric">956</td>
              </tr>
            </table>
          </div>
          <aside class="notes">
            . . . distances between them, as shown here in kilometers.&nbsp;
            This is the minimum driving distance according to Google Maps,
            and to keep things simple we'll assume
            it's the same in either direction.

            <br><br>

            So let's dive back into our process.&nbsp;
            That starts with . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="current-step center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
          </div>
          <aside class="notes">
            . . . creating an initial population<span data-time-min="40">,
            which would be done the same way as before,
            except that we're creating routes instead of truckloads</span>.&nbsp;
            So how do we create a route?&nbsp;
            It could be done quite easily, like this:
          </aside>
        </section>


        <section>
          <div class="all vctring">
            <div>
              <pre style="font-size: 0.8em"><code data-trim class="language-ruby">
class Route
  CITIES = %w(AMS AND BRU LIS LUX MAD MTC PAR)

  attr_reader :stops
  def initialize(stops=CITIES.shuffle)
    @stops = stops
  end
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            Again we're going to make a class, this time called Route,
            with the list of city abbreviations as a constant.&nbsp;
            <span data-time-min="75">
              To explain a bit of the Ruby:
              The %w syntax part is a borrowing from Perl, and it means
              "create an array of strings from these
              whitespace-separated words".&nbsp;
              The "stops=CITIES.shuffle" part means that
              we <i>can</i> pass in an array of stops but don't have to,
              and if we don't, then
              it defaults to a shuffled copy of CITIES.&nbsp;
              (And yes, it does reshuffle it each time,
              not just once for the function definition.)&nbsp;
              We won't be passing in an array of stops quite yet,
              but we will do that later.

              <br><br>
            </span>
            If we create ten of these and put them in an array,
            it might look like this:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table style="font-size: 0.8em">
              <tr><th>1st</th><th>2nd</th><th>3rd</th><th>4th</th><th>5th</th><th>6th</th><th>7th</th><th>8th</th></tr>
              <tr><td>AND</td><td>MAD</td><td>AMS</td><td>LUX</td><td>PAR</td><td>BRU</td><td>MTC</td><td>LIS</td></tr>
              <tr><td>MTC</td><td>PAR</td><td>LUX</td><td>AND</td><td>MAD</td><td>LIS</td><td>AMS</td><td>BRU</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AMS</td><td>LIS</td><td>AND</td><td>MTC</td><td>PAR</td></tr>
              <tr><td>AND</td><td>PAR</td><td>LUX</td><td>BRU</td><td>AMS</td><td>LIS</td><td>MAD</td><td>MTC</td></tr>
              <tr><td>LIS</td><td>LUX</td><td>MTC</td><td>AMS</td><td>AND</td><td>BRU</td><td>PAR</td><td>MAD</td></tr>
              <tr><td>BRU</td><td>LUX</td><td>LIS</td><td>PAR</td><td>AND</td><td>MAD</td><td>MTC</td><td>AMS</td></tr>
              <tr><td>AND</td><td>LUX</td><td>PAR</td><td>MTC</td><td>BRU</td><td>MAD</td><td>AMS</td><td>LIS</td></tr>
              <tr><td>LUX</td><td>BRU</td><td>AND</td><td>MAD</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>AND</td><td>AMS</td><td>MTC</td><td>PAR</td><td>LIS</td><td>BRU</td><td>LUX</td><td>MAD</td></tr>
              <tr><td>PAR</td><td>MAD</td><td>AMS</td><td>BRU</td><td>AND</td><td>MTC</td><td>LIS</td><td>LUX</td></tr>
            </table>
          </div>
          <aside class="notes">
            So that's the Initialize step done.&nbsp;
            Now we have to . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="current-step center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-assess">‚Üë</span>
          </div>
          <aside class="notes">
            . . . determine how fit each route is.&nbsp;
            The measure we have is
            better when <i>smaller</i> and <i>worse</i> when larger,
            but that's easy to take care of.&nbsp;
            We can subtract it from a constant,
            divide a constant by it,
            or all kinds of other solutions.&nbsp;
            To keep things simple, I'm just going to negate it,
            and yes it is perfectly legitimate to have a negative fitness.&nbsp;
            To do that is fairly straightforward:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <div>
              <pre style="font-size: 0.8em"><code data-trim class="language-ruby">
def fitness = -total_distance

def total_distance
  stops.
    each_cons(2).
    to_a.
    map { |src, dst| distance(src, dst) }.
    sum +
    distance(stops.first, stops.last)
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            . . .
            <span data-time-min="40">
              if you know Ruby.&nbsp;
              If you don't, what's going on here is,</span>
            we take the stops,
            extract each consecutive pair,
            <span data-time-min="40">
              but that gets us an Enumerator so
              we have to convert that to an actual array,
            </span>
            then we map each pair to its distance
            by calling a function
            <span data-time-min="40">which I'll save for the next slide,</span>
            <span data-time-max="39">
              that looks up the distance in that table
              (but in the interests of time I'll hand-wave over that code),
            </span>
            add them all up,
            then add the distance back to the starting point.&nbsp;
            <span data-time-min="40">
              I'm making the simplifying assumption that
              the route could start anywhere,
              but we could say that
              we have to start and end at some other city.&nbsp;
              There are many variations on the Traveling Salesman Problem,
              and another one is that we <i>don't</i> have to
              get back to the starting point.
            </span>

            <br><br>

            <span data-time-min="40">
              Now that you all grok that,
              let's take a brief look at
              how that distance function might work:
            </span>
            <span data-time-max="39">
              If we run this on our current population,
              and sort on fitness descending, we get:
            </span>
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <div>
              <pre style="font-size: 0.4em"><code data-trim class="language-ruby">
DISTANCES = {
  "AMS" => {
    "AND" => 1357, "BRU" =>  210, "LIS" => 2233, "LUX" =>  417,
    "MAD" => 1773, "MTC" => 1421, "PAR" =>  502
  },
  "AND" => {
    "BRU" => 1162, "LIS" => 1232, "LUX" => 1178,
    "MAD" =>  613, "MTC" =>  653, "PAR" =>  862
  },
  "BRU" => {
    "LIS" => 2038, "LUX" =>  213, "MAD" => 1577,
    "MTC" => 1200, "PAR" =>  307
  },
  "LIS" => { "LUX" => 2153, "MAD" =>  625, "MTC" => 1838, "PAR" => 1739 },
  "LUX" => { "MAD" => 1691, "MTC" => 1041, "PAR" =>  386 },
  "MAD" => { "MTC" => 1288, "PAR" => 1278 },
  "MTC" => { "PAR" =>  956 },
}

def distance(src, dst)
  src, dst = dst, src if src &gt; dst
  DISTANCES[src][dst]
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            Conceptually, it's pretty simple.&nbsp;
            First we declare a constant hash of hashes,
            (or whatever your preferred language calls an associative array),
            from each city <i>other than the last</i>,
            to each city alphabetically later than it.&nbsp;
            Then we declare a function, that takes two cities,
            makes sure we've got them in the right order,
            then looks up the distance in the hash of hashes.&nbsp;
            This could probably be done in a more Ruby-ish way
            with some mechanism like hash defaults,
            and we could have saved some memory by
            using symbols instead of strings,
            but once again, I'm trying to keep this understandable
            for people who don't know Ruby.

            <br><br>

            Now, if we finally run that fitness function on
            our current population, and sort on fitness descending, we get:
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table style="font-size: 0.8em">
              <tr><th>1st</th><th>2nd</th><th>3rd</th><th>4th</th><th>5th</th><th>6th</th><th>7th</th><th>8th</th><th class="numeric">Fit</th></tr>
              <tr><td>AND</td><td>PAR</td><td>LUX</td><td>BRU</td><td>AMS</td><td>LIS</td><td>MAD</td><td>MTC</td><td class="numeric">-6470</td></tr>
              <tr><td>MTC</td><td>PAR</td><td>LUX</td><td>AND</td><td>MAD</td><td>LIS</td><td>AMS</td><td>BRU</td><td class="numeric">-7401</td></tr>
              <tr><td>AND</td><td>MAD</td><td>AMS</td><td>LUX</td><td>PAR</td><td>BRU</td><td>MTC</td><td>LIS</td><td class="numeric">-7766</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AMS</td><td>LIS</td><td>AND</td><td>MTC</td><td>PAR</td><td class="numeric">-8466</td></tr>
              <tr><td>BRU</td><td>LUX</td><td>LIS</td><td>PAR</td><td>AND</td><td>MAD</td><td>MTC</td><td>AMS</td><td class="numeric">-8499</td></tr>
              <tr><td>LIS</td><td>LUX</td><td>MTC</td><td>AMS</td><td>AND</td><td>BRU</td><td>PAR</td><td>MAD</td><td class="numeric">-9344</td></tr>
              <tr><td>PAR</td><td>MAD</td><td>AMS</td><td>BRU</td><td>AND</td><td>MTC</td><td>LIS</td><td>LUX</td><td class="numeric">-9453</td></tr>
              <tr><td>LUX</td><td>BRU</td><td>AND</td><td>MAD</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td><td class="numeric">-9700</td></tr>
              <tr><td>AND</td><td>AMS</td><td>MTC</td><td>PAR</td><td>LIS</td><td>BRU</td><td>LUX</td><td>MAD</td><td class="numeric">-10028</td></tr>
              <tr><td>AND</td><td>LUX</td><td>PAR</td><td>MTC</td><td>BRU</td><td>MAD</td><td>AMS</td><td>LIS</td><td class="numeric">-10535</td></tr>
            </table>
          </div>
          <aside class="notes">
            . . . this.&nbsp;
            So now we can use this information to decide . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="current-step cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-done">‚Üë</span>
          </div>
          <aside class="notes">
            . . . are we done?&nbsp;
            What are our criteria?&nbsp;
            For now I'm going to stick with the idea of
            declaring a winner if it hasn't been outdone in 100 generations,
            so of course we're not done on the first pass.&nbsp;
            But the code . . .
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: .6em"><code data-trim class="language-ruby">
@@best_route = nil
@@best_fitness = -100_000
@@generations = 0

def self.done?(population)
  @@generations += 1
  better = population.
    select { |r| r.fitness &gt; @@best_fitness }
  if better.any?
    @@best_route = better.sort_by(&:fitness).last
    @@best_fitness = @@best_route.fitness
    @@generations = 0
    return false
  else
    return @@generations &gt;= 100
  end
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            . . . is a little bit different from last time.&nbsp;
            Since it's not so trivial to construct the worst Route,
            as opposed to the worst Truckload,
            I've split out the best <i>fitness</i>
            from the best <i>route</i>,
            so we can just start with a very bad fitness,
            and not worry about creating a route that would
            evaluate to that fitness.&nbsp;
            Other than that, though, the logic is completely the same.

            <br><br>

            Since we're <i>not</i> done, we now . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="current-step cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-select">‚Üë</span>
          </div>
          <aside class="notes">
            . . . pick some breeders, and this time
            we're going to delve into <i>Roulette Wheel</i> selection.&nbsp;
            The concept there is that every candidate has
            a <i>chance</i> to be selected,
            <i>but</i> the <i>size</i> of the chance is
            based on the candidate's <i>fitness</i>.&nbsp;
            The simplest version is that it's just equal,
            or at least directly proportional,
            to the fitness.&nbsp;
            (So I think this is actually a misnomer;
            one would <i>hope</i> that an actual roulette wheel
            has an <i>equal</i> chance for <i>all</i> the numbers!&nbsp;
            But, they didn't ask my opinion when naming this.)&nbsp;
            Anyway, the . . .
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: .6em"><code data-trim class="language-ruby">
def self.select_breeders(pop)
  total = -pop.map(&:fitness).sum
  # set p2 = p1 so until-loop will start
  p2 = p1 = pick_winner(pop, rand(total))
  p2 = pick_winner(pop, rand(total)) until p2 != p1
  [p1, p2]
end

def self.pick_winner(pop, num)
  total = 0
  pop.each do |p|
    total -= p.fitness
    return p if total &gt; num
  end
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            . . . code for that is of course more complex than last time,
            when we simply chose the top two.&nbsp;
            Basically what we're doing is
            summing up all the fitnesses,
            negating the sum just because a positive number
            is easier to deal with.&nbsp;
            Then we generate a random number from 0 to the sum minus 1,
            and figure out which route's range that falls in.&nbsp;
            To do that, we iterate over the routes,
            summing the negated fitnesses again,
            until we exceed the random number.&nbsp;
            When that happens, it means that
            the one whose fitness we just added
            is the lucky winner.&nbsp;
            Then we do that again,
            repeating if needed in order to
            actually get a second breeder
            (since we might happen to pick the first one again).&nbsp;

            <br><br>

            As usual we <i>could</i> make it even <i>more</i> complex,
            such as by applying some function to the actual fitness.&nbsp;
            We might amplify the fitter routes' chances
            by squaring the fitness,
            or diminish them by taking the square root,
            or a logarithm or whatever,
            or we could make those things
            part of the definition of the fitness in the first place.&nbsp;
            We could also bias it by
            generating that random number differently,
            with an uneven distribution,
            whether favoring the best or the middle or whatever.

            <br><br>

            If we run this on our current population,
            we just might randomly wind up with . . .

          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table>
              <tr><th>1st</th><th>2nd</th><th>3rd</th><th>4th</th><th>5th</th><th>6th</th><th>7th</th><th>8th</th><th class="numeric">Fit</th></tr>
              <tr><td colspan="9"><br></td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AMS</td><td>LIS</td><td>AND</td><td>MTC</td><td>PAR</td><td class="numeric">-8466</td></tr>
              <tr><td colspan="9"><br></td></tr>
              <tr><td>LUX</td><td>BRU</td><td>AND</td><td>MAD</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td><td class="numeric">-9700</td></tr>
            </table>
          </div>
          <aside class="notes">
            . . . these two.&nbsp;
            These weren't the top two, in fact they were #4 and #8,
            which is fairly poor, averaging out to #6 out of 10.&nbsp;
            But just like in real life,
            to quote the late great . . .
          </aside>
        </section>

        <section>
          <div class="all">
            <img src="images/tom-petty.png">
          </div>
          <span class="slide-caption">Image: https://commons.wikimedia.org/wiki/File:Tom_Petty_(8191710373).jpg</span>
          <aside class="notes">
            . . . Tom Petty,
            even the losers get lucky sometimes.&nbsp;
            <span data-time-min="35">Even I managed to land a wife!&nbsp;</span>
            So now it's time to . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="current-step cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-breed">‚Üë</span>
          </div>
          <aside class="notes">
            . . . breed them together.&nbsp;
            Breeding Traveling Salesman routes is
            much more complex than breeding Knapsack contents.&nbsp;
            It's actually still an area of ongoing research!&nbsp;
            But the <i>simplest</i> way to breed Traveling Salesman routes is
            fairly similar to ordinary crossover: we . . .
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: .7em"><code data-trim class="language-ruby">
def self.breed(p1, p2)
  xover = rand(CITIES.length + 1)
  cities = []
  cities[0 .. (xover - 1)] =
    p1.stops.slice(0, xover)
  cities[xover .. (CITIES.length - 1)] =
    p2.stops.reject { |city| cities.member?(city) }
  return Route.new(cities)
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            . . . take a random number,
            between 0 and the number of cities, inclusive,
            copy that many from the first parent,
            and fill the rest (if any) from the second parent.&nbsp;
            However, we don't do it by
            matching the indices like with regular crossover,
            but by using the missing cities,
            in the order they appear in the second parent,
            no matter exactly <i>where</i> they appeared.&nbsp;
            So, supposing we have a crossover point of 3,
            the result would look like . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table>
              <tr><th>1st</th><th>2nd</th><th>3rd</th><th>4th</th><th>5th</th><th>6th</th><th>7th</th><th>8th</th></tr>
              <tr class="up"><td>MAD</td><td>LUX</td><td>BRU</td><td>AMS</td><td>LIS</td><td>AND</td><td>MTC</td><td>PAR</td></tr>
              <tr><td colspan="8" style="text-align: center">+</td></tr>
              <tr class="down"><td>LUX</td><td>BRU</td><td>AND</td><td>MAD</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td colspan="8" style="text-align: center">=</td></tr>
              <tr><td class="up">MAD</td><td class="up">LUX</td><td class="up">BRU</td><td class="down">AND</td><td class="down">PAR</td><td class="down">LIS</td><td class="down">AMS</td><td class="down">MTC</td></tr>
            </table>
          </div>
          <aside class="notes">
            . . . this.&nbsp;
            But as you may recall, this is just one of ten results,
            as we're making a whole new population.&nbsp;
            <span data-time-min="40">
            The way we would do that would be exactly the same as before,
            so I won't bore you with the code, but
            </span>
            One possible result might be . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table style="font-size: 0.8em">
              <tr><th>1st</th><th>2nd</th><th>3rd</th><th>4th</th><th>5th</th><th>6th</th><th>7th</th><th>8th</th></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>LUX</td><td>BRU</td><td>AND</td><td>MAD</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AMS</td><td>AND</td><td>PAR</td><td>LIS</td><td>MTC</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>LUX</td><td>BRU</td><td>AND</td><td>MAD</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>LUX</td><td>BRU</td><td>AND</td><td>MAD</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
            </table>
          </div>
          <aside class="notes">
            . . . this.&nbsp;
            We have not only strong family resemblance,
            but a fair bit of duplication too.&nbsp;
            If you want to continue the biological analogy,
            you could call them twins<span data-time-min="40">,
              triplets, and so on</span>.&nbsp;
            But we get some more variety in the next step:
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="current-step cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-mutate">‚Üë</span>
          </div>
          <aside class="notes">
            mutation.&nbsp;
            So how do we mutate a Traveling Salesman route?&nbsp;
            It's actually pretty easy:
          </aside>
        </section>

        <section>
          <div class="vctring">
            <div>
              <pre style="font-size: .7em"><code data-trim class="language-ruby">
def mutate()
  i1 = rand(CITIES.length)
  i2 = rand(CITIES.length)
  stops[i1], stops[i2] = [stops[i2], stops[i1]]
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            we just pick two indices in the array,
            and swap the cities there.&nbsp;
            If we wanted to make the code more complex,
            we could make some cities or indices more or less likely to swap,
            or require that they be consecutive, or not consecutive,
            or we could have a probability of multiple mutations,
            but we're going to keep it simple and just do one swap each,
            relying on the chance of the two numbers being the same
            to give us a chance of not really mutating.&nbsp;
            If we apply this to our current routes, we might wind up with . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table style="font-size: 0.8em">
              <tr><th>1st</th><th>2nd</th><th>3rd</th><th>4th</th><th>5th</th><th>6th</th><th>7th</th><th>8th</th></tr>
              <tr><td class="changed">BRU</td><td>LUX</td><td class="changed">MAD</td><td>AND</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td class="changed">MTC</td><td>PAR</td><td>LIS</td><td>AMS</td><td class="changed">AND</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>LUX</td><td>BRU</td><td>AND</td><td>MAD</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AMS</td><td>AND</td><td>PAR</td><td>LIS</td><td>MTC</td></tr>
              <tr><td class="changed">LIS</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td class="changed">MAD</td><td>AMS</td><td>MTC</td></tr>
              <tr><td class="changed">AMS</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>LIS</td><td class="changed">MAD</td><td>MTC</td></tr>
              <tr><td class="changed">PAR</td><td>LUX</td><td>BRU</td><td>AND</td><td class="changed">MAD</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
              <tr><td>LUX</td><td>BRU</td><td class="changed">MTC</td><td>MAD</td><td>PAR</td><td>LIS</td><td>AMS</td><td class="changed">AND</td></tr>
              <tr><td>LUX</td><td>BRU</td><td>AND</td><td class="changed">PAR</td><td class="changed">MAD</td><td>LIS</td><td>AMS</td><td>MTC</td></tr>
            </table>
          </div>
          <aside class="notes">
            . . . this, where the green color means it changed.&nbsp;
            You can see that there are still
            many that somewhat <i>resemble</i> others,
            but there's no more <i>exact</i> duplication.&nbsp;
            That's not guaranteed though<span data-time-max="34">.&nbsp;</span><span data-time-min="35">;
              some twins could undergo identical mutation,
              or some may mutate <i>into</i> twinship,
              though we <i>could</i> guarantee it with
              a more complicated mutation function.&nbsp;
              <span data-time-min="40">
                (So long, of course, as we're using
                a small enough population.)&nbsp;
              </span>
            </span>
            Now that they're in their final forms,
            we can . . .
          </aside>
        </section>

        <section>
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="current-step center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-assess">‚Üë</span>
          </div>
          <aside class="notes">
            . . . start our cycle over again by asking how fit they are,
            and we get . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table style="font-size: 0.8em">
              <tr><th>1st</th><th>2nd</th><th>3rd</th><th>4th</th><th>5th</th><th>6th</th><th>7th</th><th>8th</th><th class="numeric">Fit</th></tr>
              <tr><td>PAR</td><td>LUX</td><td>BRU</td><td>AND</td><td>MAD</td><td>LIS</td><td>AMS</td><td>MTC</td><td class="numeric">-7609</td></tr>
              <tr><td>AMS</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>LIS</td><td>MAD</td><td>MTC</td><td class="numeric">-7727</td></tr>
              <tr><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>MAD</td><td>LIS</td><td>AMS</td><td>MTC</td><td class="numeric">-8835</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AMS</td><td>AND</td><td>PAR</td><td>LIS</td><td>MTC</td><td class="numeric">-9198</td></tr>
              <tr><td>LUX</td><td>BRU</td><td>AND</td><td>MAD</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td><td class="numeric">-9700</td></tr>
              <tr><td>BRU</td><td>LUX</td><td>MAD</td><td>AND</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td><td class="numeric">-9972</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>MTC</td><td>PAR</td><td>LIS</td><td>AMS</td><td>AND</td><td class="numeric">-10002</td></tr>
              <tr><td>LUX</td><td>BRU</td><td>MTC</td><td>MAD</td><td>PAR</td><td>LIS</td><td>AMS</td><td>AND</td><td class="numeric">-10486</td></tr>
              <tr><td>MAD</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>LIS</td><td>AMS</td><td>MTC</td><td class="numeric">-10609</td></tr>
              <tr><td>LIS</td><td>LUX</td><td>BRU</td><td>AND</td><td>PAR</td><td>MAD</td><td>AMS</td><td>MTC</td><td class="numeric">-10700</td></tr>
            </table>
          </div>
          <aside class="notes">
            . . . this, after sorting by fitness.&nbsp;
            Just as before, our best fitness went down,
            <span data-time-min="40">from -6470 to -7609, in other words,</span>
            our best route in this generation is
            1039 km longer than the best of the prior generation.&nbsp;
            But just like before, we haven't lost that best one,
            it's recorded in that best_route class variable.&nbsp;
            Let's let it run to completion, producing . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <table style="font-size: 0.8em">
              <tr><th>1st</th><th>2nd</th><th>3rd</th><th>4th</th><th>5th</th><th>6th</th><th>7th</th><th>8th</th><th class="numeric">Fit</th><th class="numeric">Gens</th></tr>
<tr><td>LIS</td><td>AND</td><td>MTC</td><td>LUX</td><td>PAR</td><td>BRU</td><td>AMS</td><td>MAD</td><td>-6227</td><td class="numeric">22</td></tr>
<tr><td>LUX</td><td>BRU</td><td>PAR</td><td>MTC</td><td>AND</td><td>MAD</td><td>LIS</td><td>AMS</td><td>-6017</td><td class="numeric">18</td></tr>
<tr><td>LIS</td><td>MAD</td><td>PAR</td><td>AMS</td><td>BRU</td><td>LUX</td><td>MTC</td><td>AND</td><td>-5754</td><td class="numeric">26</td></tr>
<tr><td>AMS</td><td>BRU</td><td>PAR</td><td>LIS</td><td>MAD</td><td>AND</td><td>MTC</td><td>LUX</td><td>-5605</td><td class="numeric">100</td></tr>
            </table>
          </div>
          <aside class="notes">
            . . . these additional best routes, with those fitnesses,
            that stay as the best for that many generations.&nbsp;
            On a map, the final best one,
            that reigned supreme for a hundred generations,
            would look like . . .
          </aside>
        </section>

        <section>
          <div class="all">
            <img src="images/western-europe-with-route.png">
          </div>
          <span class="slide-caption">Image: Image: modified from https://www.mapchart.net/europe.html</span>
          <aside class="notes">
            . . . this, and we can see it really makes sense,
            it's roughly what we would have thought of
            just by eyeballing it.

            <br><br>

            <span data-time-min="40">
              This sequence of cities would have the same fitness
              if we started in any of them, and went in either direction first,
              so there are in fact sixteen equivalent routes.&nbsp;
              As I mentioned before,
              we <i>could</i> have dictated a starting city,
              whether one on this list or not,
              and the cost might not really be the same in either direction,
              plus there may be further complications such as
              how long we need to stay in each city,
              which could affect the best route to the next one and the
              time of arrival at the next one,
              which could how affect many hotel nights we need,
              which of course contributes to the total cost.&nbsp;
              So, realistically, it could almost certainly be narrowed down to
              one, or at least far fewer than sixteen, but at the cost of
              a far more complicated fitness function.
            </span>

            <span data-time-max="74">There are . . . </span>
            <span data-time-min="75">
              <br><br>

              Now let's suppose we want to evolve . . .
            </span>

          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <img src="images/something-completely-different.jpg">
          </div>
          <span class="slide-caption">Image: https://image.tmdb.org/t/p/w500/ajbdFQLvJTlNu4LnVWGnNMb4mZ8.jpg (used for edu fair use)</span>
          <aside class="notes">
            . . . something completely different.&nbsp;
            Suppose we want to "evolve" a good set of stats for a
            Dungeons and Dragons fighter character,
            so our candidates are
            <span data-time-max="74">tuples of numbers,</span>
            <span data-time-min="75">
              tooples of numbers, or if you prefer, tupples,
            </span>
            rather than strings of bits<span data-time-min="75">,
            or an ordering of something</span>.&nbsp;
            D&amp;D character stats are . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all bold vctring">
            <div style="display: inline-block; text-align: left">
              STR<span class="fade">ength</span><br>
              INT<span class="fade">elligence</span><br>
              DEX<span class="fade">terity</span><br>
              CON<span class="fade">stitution</span><br>
              WIS<span class="fade">dom</span><br>
              CHA<span class="fade">risma</span><br>
              <br>
              3d6 each<br>
              ignoring STR 18/xx
            </div>
          </div>
          <aside class="notes">
            . . .
            Strength,
            Intelligence,
            Dexterity,
            Constitution,
            Wisdom,
            and Charisma,
            each determined by rolling three six-sided dice,
            or 3d6 for short.&nbsp;
            (I'm going to gloss over
            how you can sometimes have extra strength.)&nbsp;
            In Ruby that might look like this:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 0.9em"><code data-trim class="language-ruby">
class Character
  attr_reader %i(str int dex con wis cha)
  def initialize()
    @str = roll(3, 6)
    @int = roll(3, 6)
    @dex = roll(3, 6)
    @con = roll(3, 6)
    @wis = roll(3, 6)
    @cha = roll(3, 6)
  end
end
              </code></pre>
            </div>
          </div>

          <aside class="notes">
            <span data-time-min="40">
              (Defining the roll function is left as an exercise,
              and yes there's a great heuristic for D&D character creation,
              just assign 18s across the board and 00 for the extra strength,
              but . . . that's cheating!&nbsp; Let's be realistic.)&nbsp;
            </span>
            And we could complicate this by having
            a minimum, maximum, or specific
            total number of points,
            or minimum and maybe maximum score in each stat,
            but as usual we'll just keep it simple.&nbsp;
            So if we create an initial population of ten Characters,
            it might look like this:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Str</th><th>Int</th><th>Dex</th><th>Con</th><th>Wis</th><th>Cha</th></tr>
              </thead>
              <tbody>
                <tr><td>11</td><td>9</td><td>9</td><td>10</td><td>7</td><td>15</td></tr>
                <tr><td>4</td><td>14</td><td>8</td><td>12</td><td>13</td><td>10</td></tr>
                <tr><td>9</td><td>14</td><td>15</td><td>11</td><td>9</td><td>16</td></tr>
                <tr><td>14</td><td>15</td><td>10</td><td>7</td><td>6</td><td>14</td></tr>
                <tr><td>13</td><td>12</td><td>7</td><td>13</td><td>11</td><td>10</td></tr>
                <tr><td>12</td><td>12</td><td>10</td><td>9</td><td>5</td><td>16</td></tr>
                <tr><td>11</td><td>12</td><td>9</td><td>13</td><td>6</td><td>12</td></tr>
                <tr><td>10</td><td>14</td><td>12</td><td>8</td><td>8</td><td>16</td></tr>
                <tr><td>14</td><td>7</td><td>8</td><td>9</td><td>8</td><td>8</td></tr>
                <tr><td>14</td><td>12</td><td>13</td><td>5</td><td>13</td><td>13</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            <span data-time-min="40">
              So that's the Initialize step.&nbsp;
            </span>
            The next step is . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="current-step center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-assess">‚Üë</span>
          </div>

          <aside class="notes">
            . . . to assess how "fit" each one of these characters is.&nbsp;
            We're trying to evolve a good set of <i>Fighter</i> stats,
            so it should be based mainly on
            strength, constitution, and dexterity.&nbsp;
            Intelligence, wisdom, and charisma, not so much,
            but we don't want them too low,
            for the sake of occasional saving throws.&nbsp;
            I tried several different things, such as . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 1.3em"><code data-trim class="language-ruby">
def fitness()
  str * 2 + con + dex / 2
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            totaling up double the strength,
            the constitution,
            and half the dexterity.&nbsp;
            But, the other stats tended to get too low,
            and even the dexterity.&nbsp;
            <span data-time-min="60">
              This seemed to be a simulation of how
              genetically based features with little or no benefit
              tend to wither away over generations,
              like a human's appendix,
              the leg bones that some snakes still have, or
              the eyes and coloration of
              many creatures that live deep underground.&nbsp;
            </span>
            So I tried . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 0.9em"><code data-trim class="language-ruby">
def fitness()
  stats = [str, con, dex, int, wis, cha]
  (0..5).
    map { |idx|
      stats[idx] * (6 - idx)
    }.
    sum
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            prioritizing <i>all</i> of them, linearly,
            adding up six times the strength, five times the constitution,
            and so on down to one times the charisma.&nbsp;
            But then the other stats got too high,
            and the characters seemed too generalized.&nbsp;
            So I finally settled on this:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 0.9em"><code data-trim class="language-ruby">
def fitness()
  stats = [str, con, dex, int, wis, cha]
  (0..5).
    map { |idx|
      stats[idx] * 2 ** (5 - idx)
    }.
    sum
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            . . . prioritizing the stats
            again but much more strongly,
            totaling up 32 times the strength,
            16 times the constitution,
            and so on down to one times the charisma.&nbsp;
            Here we see that
            even though the fitness function itself can be very simple,
            it can be difficult to figure out
            one that will yield good results,
            whatever that means in the situation at hand.

            <br><br>

            If we run this on our population, and sort them, we get this:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Str</th><th>Int</th><th>Dex</th><th>Con</th><th>Wis</th><th>Cha</th><th>&nbsp;Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>13</td><td>12</td><td>7</td><td>13</td><td>11</td><td>10</td><td>760</td></tr>
                <tr><td>14</td><td>15</td><td>10</td><td>7</td><td>6</td><td>14</td><td>726</td></tr>
                <tr><td>14</td><td>12</td><td>13</td><td>5</td><td>13</td><td>13</td><td>719</td></tr>
                <tr><td>14</td><td>7</td><td>8</td><td>9</td><td>8</td><td>8</td><td>708</td></tr>
                <tr><td>11</td><td>12</td><td>9</td><td>13</td><td>6</td><td>12</td><td>703</td></tr>

                <tr><td>12</td><td>12</td><td>10</td><td>9</td><td>5</td><td>16</td><td>682</td></tr>
                <tr><td>9</td><td>14</td><td>15</td><td>11</td><td>9</td><td>16</td><td>674</td></tr>
                <tr><td>11</td><td>9</td><td>9</td><td>10</td><td>7</td><td>15</td><td>649</td></tr>
                <tr><td>10</td><td>14</td><td>12</td><td>8</td><td>8</td><td>16</td><td>632</td></tr>
                <tr><td>4</td><td>14</td><td>8</td><td>12</td><td>13</td><td>10</td><td>476</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            Now that we've assessed their fitness,
            we can ask,
            are we . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="current-step cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-done">‚Üë</span>
          </div>
          <aside class="notes">
            . . . done?&nbsp;
            What are our criteria?&nbsp;
            Let's say we're done if
            any candidates get 90% of the way to the maximum score
            of our fitness function.&nbsp;
            I'll spare you
            <span data-time-min="40">
              most of the math, but
              the maximum is 1,134, so 90% would round to
            </span>
            <span data-time-max="39">the math, but that would be</span>
            1,021.&nbsp;
            In code, checking that would look like this:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 1.1em"><code data-trim class="language-ruby">
def Character.done?(population)
  population.any? { |cand|
    cand.fitness &gt;= 1021
  }
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            Very simple.&nbsp;
            None of our current candidates score
            anywhere near 1021, so we . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="current-step cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-select">‚Üë</span>
          </div>
          <aside class="notes">
            . . . select some candidates to breed the next generation.&nbsp;
            This time we're going to do . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <img src="images/tournament.jpg">
          </div>
          <span class="slide-caption">Image: https://www.deviantart.com/roysovitch/art/The-Inaugural-Earth-27-Tournament-Bracket-FINAL-606182766</span>
          <aside class="notes">
            . . . tournament selection.&nbsp;
            This is somewhat like Roulette Wheel selection,
            in that it involves an element of chance,
            but it gives much more of an edge to the fitter candidates.&nbsp;
            It works by first . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 1em">
[X] Alice
[ ] Bob
[X] Charlie
[ ] Darlene
[X] Edwina
[ ] Felicity
[ ] Georgette
[X] Harry
[ ] Ian
[ ] Jackie
</pre>
            </div>
          </div>
          <aside class="notes">
            . . . selecting some number of candidates at random,
            choosing the . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <img src="images/fit.jpg">
          </div>
          <span class="slide-caption">Image: https://garystockbridge617.getarchive.net/amp/media/fitness-muscles-exercise-sports-6d9b94</span>
          <aside class="notes">
            . . . fittest of those as a breeder
            (this is why they call it "Tournament" selection),
            and then . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <img src="images/repeat.png">
          </div>
          <span class="slide-caption">Image: https://www.streamlinehq.com/icons/download/refresh-circle--29591 w/ colors inverted</span>
          <aside class="notes">
            . . . repeating that as needed
            to get as many breeders as we want.&nbsp;
            We're going to stick with just taking two breeders, though.&nbsp;
            Using tournaments of four, to get two breeders,
            might look like this:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 0.8em"><code data-trim class="language-ruby">
  # in our main loop
  breeders = self.select_breeders(pop, 4, 2)
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            In our main loop, we call select_breeders.&nbsp;
            In this class, it's implemented tournament-style,
            so we need to tell it what size of tournament to use,
            and how many breeders we want.&nbsp;
            (Or of course we could make those things class constants,
            or even hardcode them in these functions, whatever.)&nbsp;
            In the actual breeder selection function, we . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 0.7em"><code data-trim class="language-ruby">
def self.select_breeders(pop,
                         tourney_size,
                         num_breeders)
  breeders = []
  while breeders.count &lt; num_breeders
    breeders.append(run_tourney(pop - breeders,
                                tourney_size))
  end
  return breeders
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            . . . start with an empty array of breeders,
            and so long as we don't have enough, we append one more,
            chosen from among the ones that haven't yet been chosen.&nbsp;
            And <i>how</i> they're chosen is . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 0.9em"><code data-trim class="language-ruby">
def self.run_tourney(left, tourney_size)
  return left.
    sample(tourney_size).
    sort(&:fitness).
    last
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            . . . simply to get a sample of the appropriate size,
            sort them by fitness, and take the last.

            <br><br>

            To step through it working,
            suppose our first call to run_tourney
            happens to pick . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring" style="font-size: 1.3em">
            <table class="all-right">
              <thead>
                <tr><th>Str</th><th>Int</th><th>Dex</th><th>Con</th><th>Wis</th><th>Cha</th><th>&nbsp;Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>11</td><td>9</td><td>9</td><td>10</td><td>7</td><td>15</td><td>649</td></tr>
                <tr><td>14</td><td>15</td><td>10</td><td>7</td><td>6</td><td>14</td><td>726</td></tr>
                <tr><td>4</td><td>14</td><td>8</td><td>12</td><td>13</td><td>10</td><td>476</td></tr>
                <tr><td>14</td><td>12</td><td>13</td><td>5</td><td>13</td><td>13</td><td>719</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            these four.&nbsp;
            They're no longer in order because the sample function
            doesn't necessarily keep order.&nbsp;
            But then run_tourney will . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring" style="font-size: 1.3em">
            <table class="all-right">
              <thead>
                <tr><th>Str</th><th>Int</th><th>Dex</th><th>Con</th><th>Wis</th><th>Cha</th><th>&nbsp;Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>4</td><td>14</td><td>8</td><td>12</td><td>13</td><td>10</td><td>476</td></tr>
                <tr><td>11</td><td>9</td><td>9</td><td>10</td><td>7</td><td>15</td><td>649</td></tr>
                <tr><td>14</td><td>12</td><td>13</td><td>5</td><td>13</td><td>13</td><td>719</td></tr>
                <tr><td>14</td><td>15</td><td>10</td><td>7</td><td>6</td><td>14</td><td>726</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            sort them by fitness, and return the last,
            in other words, the most fit.&nbsp;
            select_breeders puts that in our breeders array,
            so now we have one, but we wanted two, so
            it goes through that process again.&nbsp;
            However, this time, the array of candidates
            that it passes to run_tourney
            isn't the whole population,
            but only the ones that haven't yet been chosen,
            so this time that's everybody <i>except</i>
            that last one there.&nbsp;
            Let's assume that this time, run_tourney picks a set of four
            that includes the most fit one, so it returns that,
            select_breeders puts it in the array,
            which now has our desired size of two,
            so it gets returned to our main loop,
            and we wind up with . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring" style="font-size: 1.3em">
            <table class="all-right">
              <thead>
                <tr><th>Str</th><th>Int</th><th>Dex</th><th>Con</th><th>Wis</th><th>Cha</th><th>&nbsp;Fit</th></tr>
              </thead>
              <tbody>
                <tr><td colspan="7"><br></td></tr>
                <tr><td>14</td><td>15</td><td>10</td><td>7</td><td>6</td><td>14</td><td>726</td></tr>
                <tr><td colspan="7"><br></td></tr>
                <tr><td>13</td><td>12</td><td>7</td><td>13</td><td>11</td><td>10</td><td>760</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . these two for our breeders.&nbsp;
            These just happen to be our two most fit,
            but it's not at all guaranteed to turn out like that.&nbsp;
            Calculating the probability,
            given then population size, tourney size, and number of breeders,
            is left as an exercise for the reader.&nbsp;
            Also,
            <span data-time-min="40">
              The abstraction gets a bit more
              <i>obviously</i> leaky now,
              because we're ignoring sexes;
              we have no guarantee that
              these characters will be a male and a female,
              as we're not even making that part of the data.&nbsp;
              We had the same leak before, with the Truckloads and Routes,
              but then it was not so relevant, so I let it slide.&nbsp;
              Now that they're living beings
              (whether humans or elves or whatever),
              though, we could add such complications,
              and many other such factors.&nbsp;
              <!--
                and even add what race they are
                and bring in considerations of
                which races <i>can</i> breed together.&nbsp;
              -->
              That would complicate our breeder selection enormously,
              maybe even make it impossible to <i>find</i> a viable pair
              in such a small population.&nbsp;
              Anyway, since we're not doing that,
              we don't have that concern, so
            </span>
            <span data-time-max="39">And then of course</span>
            we actually . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="current-step cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-breed">‚Üë</span>
          </div>
          <aside class="notes">
            . . . breed our chosen pair.&nbsp;
            This time we'll be using another common strategy,
            of essentially flipping a coin for each gene,
            like so:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 0.8em"><code data-trim class="language-ruby">
def Character.breed(p1, p2)
  char = Character.new
  char.str = rand(2) == 1 ? p1.str : p2.str
  char.int = rand(2) == 1 ? p1.int : p2.int
  char.dex = rand(2) == 1 ? p1.dex : p2.dex
  char.con = rand(2) == 1 ? p1.con : p2.con
  char.wis = rand(2) == 1 ? p1.wis : p2.wis
  char.cha = rand(2) == 1 ? p1.cha : p2.cha
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            We go through the stats one by one,
            flip a coin (or "roll a d2"),
            and if it comes up 1,
            we get that stat from the first parent,
            else we get it from the other parent.&nbsp;
            That could get us a result like this:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <table class="all-right" style="font-size: 1.4em">
              <thead>
                <tr><th>Str</th><th>Int</th><th>Dex</th><th>Con</th><th>Wis</th><th>Cha</th></tr>
              </thead>
              <tbody>
                <tr class="up"><td>13</td><td>12</td><td>7</td><td>13</td><td>11</td><td>10</td></tr>
                <tr><td colspan="6"></td></tr>
                <tr><td colspan="6" style="text-align: center">+</td></tr>
                <tr><td colspan="6"></td></tr>
                <tr class="down"><td>14</td><td>15</td><td>10</td><td>7</td><td>6</td><td>14</td></tr>
                <tr><td colspan="6"></td></tr>
                <tr><td colspan="6" style="text-align: center">=</td></tr>
                <tr><td colspan="6"></td></tr>
                <tr><td class="up">13</td><td class="down">15</td><td class="down">10</td><td class="up">13</td><td class="down">6</td><td class="up">10</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            But again, this is just one of ten results,
            because we're making a whole new population,
            which might look something like this:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Str</th><th>Int</th><th>Dex</th><th>Con</th><th>Wis</th><th>Cha</th></tr>
              </thead>
              <tbody>
                <tr><td class="up">13</td><td class="up">12</td><td class="down">10</td><td class="up"> 7</td><td class="down"> 6</td><td class="down">14</td></tr>
                <tr><td class="up">13</td><td class="up">12</td><td class="up"> 7</td><td class="down">13</td><td class="down"> 6</td><td class="down">14</td></tr>
                <tr><td class="down">14</td><td class="up">12</td><td class="down">10</td><td class="down">13</td><td class="up">11</td><td class="down">14</td></tr>
                <tr><td class="down">14</td><td class="down">15</td><td class="up"> 7</td><td class="down">13</td><td class="down"> 6</td><td class="down">14</td></tr>
                <tr><td class="up">13</td><td class="up">12</td><td class="down">10</td><td class="down">13</td><td class="down"> 6</td><td class="down">14</td></tr>
                <tr><td class="down">14</td><td class="down">15</td><td class="down">10</td><td class="up"> 7</td><td class="up">11</td><td class="up">10</td></tr>
                <tr><td class="down">14</td><td class="up">12</td><td class="down">10</td><td class="down">13</td><td class="down"> 6</td><td class="up">10</td></tr>
                <tr><td class="up">13</td><td class="down">15</td><td class="down">10</td><td class="down">13</td><td class="down"> 6</td><td class="down">14</td></tr>
                <tr><td class="up">13</td><td class="down">15</td><td class="down">10</td><td class="down">13</td><td class="down"> 6</td><td class="up">10</td></tr>
                <tr><td class="down">14</td><td class="up">12</td><td class="up"> 7</td><td class="up"> 7</td><td class="down"> 6</td><td class="down">14</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            Notice the family resemblance again!&nbsp;
            Even though we're no longer using yes/no decisions,
            there are only two possible alleles for each gene,
            in other words two possible values for each stat,
            the ones in each of the breeders.&nbsp;
            That means a total of 2^6, or 64, possible combinations.&nbsp;
            There would be only <i>one</i> possible value,
            and therefore half as many possible combinations,
            if any alleles were the same between the two parents,
            for any given gene, as we saw with the Truckloads.

            <br><br>

            At a glance, these look on average
            much more suitable as fighters
            than the previous generation.&nbsp;
            (We'll figure their actual fitness scores later.)&nbsp;
            Just like before, if we were to simply continue
            breeding the fittest of each generation,
            we wouldn't see any change,
            let alone improvement,
            in the possible values of each stat<span data-time-min="40">,
            in other words,
            the alleles for each gene</span>.&nbsp;
            For instance, the Wisdom would never be
            anything other than 6 or 11.&nbsp;
            But again, we fix that in the next step, which is to . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="current-step cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-mutate">‚Üë</span>
          </div>
          <aside class="notes">
            . . . mutate them.&nbsp;
            Again, I'm going to keep it very simple,
            and give each stat
            a 1/3 chance of staying the same,
            going up a point, or going down a point,
            within the valid range.&nbsp;
            In code, that could look like this:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 0.8em"><code data-trim class="language-ruby">
def maybe_mutate()
  @str = maybe_mutate_stat(@str)
  @int = maybe_mutate_stat(@int)
  @dex = maybe_mutate_stat(@dex)
  @con = maybe_mutate_stat(@con)
  @wis = maybe_mutate_stat(@wis)
  @cha = maybe_mutate_stat(@cha)
end

def maybe_mutate_stat(stat)
  (stat + rand(3) - 1).clamp(3, 18)
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            For each stat,
            we add a random number from 0 to 2,
            and subtract one,
            which is like adding a random number from -1 to 1,
            but we clamp it to the range of 3 to 18.&nbsp;
            Again, we could get as complex as we want,
            like giving it a higher chance of
            going up or down, maybe by multiple points,
            if it's very low or very high,
            <span data-time-min="40">
              to simulate the real-world phenomenon of regression to the mean,
            </span>
            or many other options.&nbsp;
            If we run this
            on our new population,
            we wind up with something like this:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Str</th><th>Int</th><th>Dex</th><th>Con</th><th>Wis</th><th>Cha</th></tr>
              </thead>
              <tbody>
                <tr><td><span class="up">14</span></td><td>12</td><td>10</td><td>7</td><td><span class="up">7</span></td><td><span class="down">13</span></td></tr>
                <tr><td><span class="down">12</span></td><td><span class="up">13</span></td><td>7</td><td><span class="up">14</span></td><td>6</td><td>14</td></tr>
                <tr><td><span class="down">13</span></td><td>12</td><td>10</td><td><span class="up">14</span></td><td>11</td><td><span class="up">15</span></td></tr>
                <tr><td><span class="up">15</span></td><td><span class="up">16</span></td><td>7</td><td><span class="up">14</span></td><td>6</td><td><span class="up">15</span></td></tr>
                <tr><td>13</td><td><span class="down">11</span></td><td>10</td><td><span class="down">12</span></td><td><span class="down">5</span></td><td><span class="up">15</span></td></tr>
                <tr><td><span class="down">13</span></td><td>15</td><td><span class="up">11</span></td><td>7</td><td>11</td><td>10</td></tr>
                <tr><td>14</td><td><span class="up">13</span></td><td><span class="down">9</span></td><td><span class="down">12</span></td><td>6</td><td><span class="down">9</span></td></tr>
                <tr><td><span class="up">14</span></td><td>15</td><td><span class="down">9</span></td><td>13</td><td>6</td><td><span class="up">15</span></td></tr>
                <tr><td>13</td><td>15</td><td><span class="up">11</span></td><td><span class="down">12</span></td><td><span class="down">5</span></td><td><span class="down">9</span></td></tr>
                <tr><td><span class="down">13</span></td><td>12</td><td><span class="down">6</span></td><td><span class="down">6</span></td><td><span class="up">7</span></td><td>13</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . where green means it went up,
            and red means it went down.&nbsp;
            <span data-time-min="75">
              If you count them, you would see that
              almost a third went up, almost a third went down,
              and almost half stayed the same.&nbsp;
            </span>
            Looking at the values in each column,
            you can see it's now much more diverse.&nbsp;
            <span data-time-min="75">
              There's now so much variety, it looks like a Christmas tree!&nbsp;
              In the worst case, with the inherited alleles one point apart,
              so that the lower going up would duplicate the higher and
              the higher going down would duplicate the lower,
              there would still be twice as many possible alleles,
              going from two to four.&nbsp;
              If they were <i>two</i> points apart,
              so that the lower going up and higher going down
              would yield the same result,
              there would be
              <i>five</i> possible new values,
              two and a half times as many.&nbsp;
              And if they're either the same or
              at least <i>three</i> points apart,
              there would be <i>three</i> times as many.&nbsp;
              (Mind you, that's all ignoring how
              3s can't go down and 18s can't go up.)&nbsp;
            </span>
            Now we . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="cycling-steps">
            <span class="center cycle-stage cycle-stage-init">Initialize</span>
            <span class="center cycle-arrow-init">‚¨áÔ∏è</span>
            <span class="current-step center cycle-stage cycle-stage-assess">Assess</span>
            <span class="cycle-arrow-assess">‚¨ÖÔ∏è</span>
            <span class="cycle-stage cycle-stage-done">Done?</span>
            <span class="cycle-arrow-done">‚¨áÔ∏è</span>
            <span class="cycle-stage cycle-stage-select">Select</span>
            <span class="center cycle-arrow-select">‚û°Ô∏è</span>
            <span class="cycle-stage cycle-stage-breed">Breed</span>
            <span class="cycle-arrow-breed">‚¨ÜÔ∏è</span>
            <span class="cycle-stage cycle-stage-mutate">Mutate</span>
            <span class="cycle-arrow-mutate">‚¨ÖÔ∏è</span>
            <span class="center cycle-ptr cycle-ptr-assess">‚Üë</span>
          </div>
          <aside class="notes">
            . . . start the cyle over,
            assessing the fitness of
            these new candidates,
            which yields this result:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Str</th><th>Int</th><th>Dex</th><th>Con</th><th>Wis</th><th>Cha</th><th>&nbsp;Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>15</td><td>16</td><td>7</td><td>14</td><td>6</td><td>15</td><td>851</td></tr>
                <tr><td>14</td><td>15</td><td>9</td><td>13</td><td>6</td><td>15</td><td>815</td></tr>
                <tr><td>13</td><td>12</td><td>10</td><td>14</td><td>11</td><td>15</td><td>805</td></tr>
                <tr><td>14</td><td>13</td><td>9</td><td>12</td><td>6</td><td>9</td><td>785</td></tr>
                <tr><td>13</td><td>15</td><td>11</td><td>12</td><td>5</td><td>9</td><td>775</td></tr>
                <tr><td>13</td><td>11</td><td>10</td><td>12</td><td>5</td><td>15</td><td>757</td></tr>
                <tr><td>12</td><td>13</td><td>7</td><td>14</td><td>6</td><td>14</td><td>742</td></tr>
                <tr><td>14</td><td>12</td><td>10</td><td>7</td><td>7</td><td>13</td><td>715</td></tr>
                <tr><td>13</td><td>15</td><td>11</td><td>7</td><td>11</td><td>10</td><td>708</td></tr>
                <tr><td>13</td><td>12</td><td>6</td><td>6</td><td>7</td><td>13</td><td>635</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            We can see that
            this generation is much improved from the prior one.&nbsp;
            The old one ranged from 476 to 760,
            and the new one from 635 to 851.&nbsp;
            It's still nowhere near our stopping criterion of 1021,
            so fast-forwarding through six more rounds,
            we finally get . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Str</th><th>Int</th><th>Dex</th><th>Con</th><th>Wis</th><th>Cha</th><th>&nbsp;Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>18</td><td>18</td><td>9</td><td>18</td><td>4</td><td>13</td><td>1029</td></tr>
                <tr class="fade"><td>18</td><td>17</td><td>7</td><td>18</td><td>6</td><td>14</td><td>1014</td></tr>
                <tr class="fade"><td>18</td><td>16</td><td>8</td><td>18</td><td>3</td><td>13</td><td>1011</td></tr>
                <tr class="fade"><td>18</td><td>15</td><td>7</td><td>18</td><td>3</td><td>13</td><td>999</td></tr>
                <tr class="fade"><td>18</td><td>16</td><td>8</td><td>17</td><td>4</td><td>13</td><td>997</td></tr>
                <tr class="fade"><td>18</td><td>16</td><td>6</td><td>18</td><td>3</td><td>15</td><td>997</td></tr>
                <tr class="fade"><td>17</td><td>18</td><td>8</td><td>18</td><td>6</td><td>13</td><td>993</td></tr>
                <tr class="fade"><td>17</td><td>16</td><td>9</td><td>18</td><td>3</td><td>14</td><td>988</td></tr>
                <tr class="fade"><td>18</td><td>16</td><td>6</td><td>17</td><td>3</td><td>13</td><td>979</td></tr>
                <tr class="fade"><td>17</td><td>16</td><td>8</td><td>17</td><td>4</td><td>12</td><td>964</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . one suitable character,
            with 18 Strength and Constitution,
            acceptable though sub-par Dexterity,
            and surprisingly high Intelligence.&nbsp;
            That's not a problem, just a bit of a waste.&nbsp;
            If we really wanted it more specialized,
            we could complicate the fitness function further,
            and do things like explicitly demand
            well above average scores
            in the class's useful stats,
            and forbid it to be so high in the others,
            or at least apply a penalty.

            <br><br>

            So we've evolved a set of Fighter stats.&nbsp;
            Let's suppose we don't need any more Fighters in the party . . .
            but now we need a Wizard.&nbsp;
            All we need to do is tweak our fitness function, like so:
          </aside>
        </section>

        <section data-time-min="40">
          <div class="vctring">
            <div>
              <pre style="font-size: 0.8em"><code data-trim class="language-ruby">
def fitness()
  # below is the only line that changed!
  stats = [int, wis, dex, con, cha, str]
  (0..5).
    map { |idx| stats[idx] * 2 ** (5 - idx) }.
    sum
end
              </code></pre>
            </div>
          </div>
          <aside class="notes">
            . . . to prioritize intelligence first,
            then wisdom, dexterity, and so on,
            down to strength.&nbsp;
            <span data-time-min="40">
              (We could also make it take parameters,
              and pass in different ones this time,
              but I'm just going to hardcode it here for simplicity.)&nbsp;
            </span>
            An initial population would look roughly the same,
            since we haven't changed how that is generated, so
            I'll spare you those steps,
            but after 11 generations
            I got . . .
          </aside>
        </section>

        <section data-time-min="40">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Str</th><th>Int</th><th>Dex</th><th>Con</th><th>Wis</th><th>Cha</th><th>&nbsp;Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>12</td><td>18</td><td>17</td><td>12</td><td>15</td><td>18</td><td>1048</td></tr>
                <tr><td>14</td><td>18</td><td>16</td><td>9</td><td>15</td><td>16</td><td>1026</td></tr>
                <tr><td>15</td><td>18</td><td>15</td><td>10</td><td>15</td><td>16</td><td>1023</td></tr>
                <tr class="fade"><td>13</td><td>18</td><td>17</td><td>11</td><td>13</td><td>18</td><td>1013</td></tr>
                <tr class="fade"><td>14</td><td>18</td><td>17</td><td>10</td><td>13</td><td>18</td><td>1010</td></tr>
                <tr class="fade"><td>13</td><td>18</td><td>16</td><td>8</td><td>14</td><td>18</td><td>1009</td></tr>
                <tr class="fade"><td>12</td><td>17</td><td>16</td><td>11</td><td>15</td><td>17</td><td>1002</td></tr>
                <tr class="fade"><td>12</td><td>18</td><td>15</td><td>9</td><td>14</td><td>16</td><td>1000</td></tr>
                <tr class="fade"><td>14</td><td>17</td><td>16</td><td>10</td><td>15</td><td>16</td><td>998</td></tr>
                <tr class="fade"><td>14</td><td>17</td><td>17</td><td>11</td><td>13</td><td>18</td><td>982</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . <i>three</i> candidates
            90% fit to be wizards.&nbsp;
            They're mostly pretty good in the other stats,
            but not so much as to be
            obviously better suited for some other class,
            except that that top one looks like a bard to me.

            <span data-time-min="40">
              <br><br>

              Remember though that this is all very random.&nbsp;
              It may converge on a good solution faster, or more slowly,
              and the fitness function may be good or poor at
              getting just the right mix of alleles.

            </span>

            <br><br>

            <div data-time-max="998">There are . . .</div>
            <div data-time-min="999">
              Now, suppose we want to evolve yet another type of thing.&nbsp;
              By the Rule of Three,
              it's about time we . . .
            </div>
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/tooth-extraction.png">
          </div>
          <span class="slide-caption">Image: from https://www.authoritydental.org/tooth-extraction-recovery</span>
          <aside class="notes">
            . . . extract the common parts into something they all can use,
            something with a name like, oh, say, . . .
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/evolver-license-plate.png">
          </div>
          <span class="slide-caption">Image: my picture, of my actual license plate!</span>
          <aside class="notes">
            . . . Evolver!&nbsp;
            That's my actual license plate, by the way.&nbsp;
            I've had it for several years,
            since long before I ever
            tried genetic algorithms,
            and used that name for this code before
            I had ever heard of the
            Evolver PC toolkit
            that I mentioned near the start.&nbsp;
            <!--
            I have it because the tag-line of my
            little one-man consulting company is,
            "How can we evolve you today?"
            -->

            <br><br>

            Anyway,
            with just a little bit of tweaking,
            and a slight sprinkling of fancy Ruby magic dust,
            we can extract a class
            that defines the common parts,
            and takes another class
            that defines the varying parts,
            and run evolution on it,
            like so:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/code/class-evolver.png" class="code">
          </div>
          <aside class="notes">
            That's a lot of code to look at at once,
            so let's go through it piece by piece.&nbsp;
            Since it is meant to accept a class,
            and hold onto it for later use,
            we can use . . .
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/code/def-evolver-init.jpg" class="code">
          </div>
          <aside class="notes">
            . . a constructor that just stashes that class.&nbsp;
            <!--
            using type as a name for class
            so as not to conflict with a reserved word,
            -->
            (And also an option for how big a population to use.)&nbsp;
            How we tell it to "run evolution" can look like this:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/code/def-evolver-evolve.png" class="code">
          </div>
          <aside class="notes">
            . . . just a slight variation on
            our original high-level code.&nbsp;
            Mainly, we're passing the responsibility for
            determining whether we're done,
            selecting breeders,
            and mutating each candidate,
            over to the passed-in class.&nbsp;
            We're also sorting the population on descending fitness.&nbsp;
            Creating the initial population could look like this:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/code/def-evolver-init-pop.png" class="code">
          </div>
          <aside class="notes">
            . . . nearly identical to our original code,
            but, again, passing the creation responsibility
            along to our passed-in class.&nbsp;
            Breeding a <i>new</i> population could look like this:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/code/def-evolver-breed.png" class="code">
          </div>
          <aside class="notes">
            . . . again nearly identical to our original code,
            but passing the responsibility for
            how to combine the breeders,
            over to our passed-in class.

            <br><br>

            With this Evolver class handling most of the infrastructure,
            we don't need to repeat most of the boilerplate
            that we had in both the Truckload and Character classes.&nbsp;
            We can demonstrate that by evolving something else,
            and supplying only the parts that vary.&nbsp;
            So what now?&nbsp;
            In my spare time, I make . . .
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <div class="all">
              <img src="images/2021-06-12-Meads-Assembled.jpg" class="most">
              <div style="font-size: 2.5em">Mead
                <span data-human-lang="spanish">(Hidromiel)</span>
                <span data-human-lang="dutch">(Mede)</span>
                <span data-human-lang="greek">(&Upsilon;&delta;&rho;&#972;&mu;&epsilon;&lambda;&iota;)</span>
                <span data-human-lang="norwegian">(Mj√∏d)</span>
              </div>
            </div>
          </div>
          <span class="slide-caption">Image: my own pic of five batches of plain mead in progress</span>
          <aside class="notes">
            . . . mead,
            a wine-like drink made by fermenting honey.&nbsp;
            Let's see if we can evolve a good recipe.&nbsp;
            Our recipe will be based on two simple factors:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/code/class-recipe.png" class="code">
          </div>
          <aside class="notes">
            the ratio of water to honey,
            and the alcohol tolerance of the yeast we'll use,
            both by volume.&nbsp;
            The resulting percent alcohol by volume, or ABV,
            and the sweetness,
            are the criteria on which
            we'll <i>evaluate</i> the recipes,
            but I'll spare you the details of how we figure them out
            from the inputs.&nbsp;
            Beyond simple creation, we'll need a . . .
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/code/def-recipe-fitness.png" class="code">
          </div>
          <aside class="notes">
            . . . fitness function.&nbsp;
            This one looks at how far off we are
            from our desired target values.&nbsp;
            We square the error in each aspect separately,
            so that something that's, say, one point off in each,
            will score higher than something that's spot-on in one
            but two points off in the other.&nbsp;
            In other words,
            we want them both close,
            not just trading off one for the other directly.

            <br><br>

            You can see here we are targeting 12% ABV,
            out of a range from 0 to 20,
            and 15 "points" of sweetness,
            which is on a custom scale . . .
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <table style="font-size: 1.5em">
              <thead>
                <tr><th>Level</th><th class="numeric">Min</th><th class="numeric">Max</th></tr>
              </thead>
              <tbody>
                <tr><td>Dry</td><td class="numeric">0</td><td class="numeric">9</td></tr>
                <tr><td>Semi-Sweet</td><td class="numeric">10</td><td class="numeric">19</td></tr>
                <tr><td>Sweet</td><td class="numeric">20</td><td class="numeric">29</td></tr>
                <tr><td>Dessert</td><td class="numeric">30</td><td class="numeric">39</td></tr>
                <tr><td>Too Sweet</td><td class="numeric">40</td><td class="numeric"></td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . of zero to about 80 for anything reasonable
            as a finished product.&nbsp;
            Explaining this chart
            is beyond the scope of this talk,
            but if you really want to know,
            see me later and
            I'll talk your ears off
            about mead-making.&nbsp;
            Anyway,
            this means that
            we're going for
            roughly typical wine strength,
            and semi-sweet.

            <br><br>

            We'll stick with the breeder selection function
            of just taking the top two most fit,
            but we'll need a combiner function,
            to combine two parents into one,
            which could look like this:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/code/def-recipe-combine.png" class="code">
          </div>
          <aside class="notes">
            . . . sticking with the tactic of flipping a coin
            to see which parent contributes each gene.&nbsp;
            Once each candidate combination is created,
            we need a method to mutate it, such as . . .
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/code/def-recipe-mutate.png" class="code">
          </div>
          <aside class="notes">
            . . . this.&nbsp;
            What we do here is to
            <!--
            multiply by somewhere between 81% and 119%,
            so it's got very little chance of staying the same,
            and the difference will usually be rather small,
            since we're using multiple dice so we have a bell curve,
            but could go up to 19% in either direction,
            -->
            let each figure go up to 19% either up or down,
            but clamp it within a reasonable range.

            <br><br>

            Everything else, such as
            creating the initial population,
            selecting breeders,
            breeding a new population,
            the concept of how to check if we're done,
            though with a different threshold,
            and the overall structure of
            how it simulates evolution,
            are all handled by the Evolver class.&nbsp;
            To actually use them together would look like this:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <img src="images/code/evolver-recipe-call.png" class="code">
          </div>
          <aside class="notes">
            With our current version of Evolver,
            this would return the current population of Recipes,
            when the Recipe class says that it's done.&nbsp;
            <!--
            We could add all sorts of things to
            report progress along the way,
            pick a final winner,
            count generations,
            and lots more.&nbsp;
            We could even add some common options in Evolver, such as
            the "pick the two best" way of picking breeders,
            some randomized alternatives,
            the crossover, multi-crossover, and coin-toss
            ways to combine two breeders,
            the bit-flipping style of mutation and some alternatives,
            being done when
            a certain amount of time or number of generations
            has passed
            or the user presses a key,
            and much more.
            -->

            <br><br>

            To demonstrate briefly how it might evolve mead recipes,
            an initial population might look like this:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Ratio</th><th>Tolerance</th><th>%ABV</th><th>Sweet</th><th>Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>6.50</td><td>10.0</td><td>7.4</td><td>0.0</td><td>-145.8</td></tr>
                <tr><td>7.00</td><td>11.0</td><td>7.0</td><td>0.0</td><td>-150.3</td></tr>
                <tr><td>7.50</td><td>9.0</td><td>6.6</td><td>0.0</td><td>-154.6</td></tr>
                <tr><td>8.00</td><td>14.0</td><td>6.2</td><td>0.0</td><td>-158.7</td></tr>
                <tr><td>8.50</td><td>12.0</td><td>5.9</td><td>0.0</td><td>-162.6</td></tr>
                <tr><td>9.00</td><td>14.0</td><td>5.6</td><td>0.0</td><td>-166.2</td></tr>
                <tr><td>9.00</td><td>9.0</td><td>5.6</td><td>0.0</td><td>-166.2</td></tr>
                <tr><td>12.50</td><td>11.0</td><td>4.1</td><td>0.0</td><td>-186.9</td></tr>
                <tr><td>12.50</td><td>16.0</td><td>4.1</td><td>0.0</td><td>-186.9</td></tr>
                <tr><td>13.00</td><td>9.0</td><td>4.0</td><td>0.0</td><td>-189.3</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . showing that we can have <i>negative</i> fitness,
            and the next generation might look like this:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Ratio</th><th>Tolerance</th><th>%ABV</th><th>Sweet</th><th>Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>5.46</td><td>10.6</td><td>8.6</td><td>0.0</td><td>-136.3</td></tr>
                <tr><td>5.52</td><td>11.7</td><td>8.5</td><td>0.0</td><td>-136.9</td></tr>
                <tr><td>5.72</td><td>9.6</td><td>8.3</td><td>0.0</td><td>-138.7</td></tr>
                <tr><td>5.95</td><td>9.4</td><td>8.0</td><td>0.0</td><td>-140.8</td></tr>
                <tr><td>5.98</td><td>10.7</td><td>8.0</td><td>0.0</td><td>-141.1</td></tr>
                <tr><td>6.37</td><td>10.9</td><td>7.6</td><td>0.0</td><td>-144.6</td></tr>
                <tr><td>6.44</td><td>11.3</td><td>7.5</td><td>0.0</td><td>-145.2</td></tr>
                <tr><td>6.56</td><td>12.2</td><td>7.4</td><td>0.0</td><td>-146.4</td></tr>
                <tr><td>7.42</td><td>9.7</td><td>6.6</td><td>0.0</td><td>-153.9</td></tr>
                <tr><td>7.84</td><td>9.6</td><td>6.3</td><td>0.0</td><td>-157.4</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . with slightly improved fitness
            and a narrower range,
            and after just 7 generations, finally this:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Ratio</th><th>Tolerance</th><th>%ABV</th><th>Sweet</th><th>Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>3.46</td><td>10.4</td><td>10.4</td><td>16.4</td><td>95.2</td></tr>
                <tr class="fade"><td>3.59</td><td>9.9</td><td>9.9</td><td>17.4</td><td>89.5</td></tr>
                <tr class="fade"><td>3.85</td><td>8.9</td><td>8.9</td><td>20.1</td><td>64.6</td></tr>
                <tr class="fade"><td>3.42</td><td>9.7</td><td>9.7</td><td>22.5</td><td>38.1</td></tr>
                <tr class="fade"><td>4.53</td><td>9.2</td><td>9.2</td><td>6.7</td><td>24.0</td></tr>
                <tr class="fade"><td>3.50</td><td>9.2</td><td>9.2</td><td>24.4</td><td>4.6</td></tr>
                <tr class="fade"><td>4.33</td><td>9.8</td><td>9.8</td><td>5.3</td><td>1.8</td></tr>
                <tr class="fade"><td>3.94</td><td>7.7</td><td>7.7</td><td>27.1</td><td>-64.1</td></tr>
                <tr class="fade"><td>4.33</td><td>11.0</td><td>10.5</td><td>0.0</td><td>-127.4</td></tr>
                <tr class="fade"><td>3.53</td><td>8.3</td><td>8.3</td><td>30.6</td><td>-156.7</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            with one candidate weaker and sweeter than we want,
            but within our 90%-fit criterion.&nbsp;
            If we get really picky and demand a 99.9% fit,
            my first run like that took 45 generations,
            and yielded this:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Ratio</th><th>Tolerance</th><th>%ABV</th><th>Sweet</th><th>Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>3.05</td><td>11.8</td><td>11.8</td><td>15.2</td><td>99.9</td></tr>
                <tr class="fade"><td>3.21</td><td>10.9</td><td>10.9</td><td>18.2</td><td>88.7</td></tr>
                <tr class="fade"><td>3.34</td><td>11.4</td><td>11.4</td><td>10.8</td><td>81.7</td></tr>
                <tr class="fade"><td>3.28</td><td>10.5</td><td>10.5</td><td>19.2</td><td>79.8</td></tr>
                <tr class="fade"><td>3.35</td><td>11.7</td><td>11.7</td><td>8.9</td><td>62.9</td></tr>
                <tr class="fade"><td>3.31</td><td>11.8</td><td>11.8</td><td>8.8</td><td>61.4</td></tr>
                <tr class="fade"><td>3.48</td><td>9.7</td><td>9.7</td><td>21.0</td><td>58.9</td></tr>
                <tr class="fade"><td>3.05</td><td>13.1</td><td>13.1</td><td>4.9</td><td>-2.9</td></tr>
                <tr class="fade"><td>3.60</td><td>11.8</td><td>11.8</td><td>2.6</td><td>-53.9</td></tr>
                <tr class="fade"><td>3.68</td><td>12.2</td><td>11.9</td><td>0.0</td><td>-125.0</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . a tiny bit weaker and sweeter than asked for.&nbsp;

            <br><br>

            Just like with the DnD characters,
            if we want to change what we're after,
            we just have to tweak the fitness function<span data-time-min="40">
            (or pass in different parameters if we bothered with that)</span>.&nbsp;
            This time, I asked for 7% alcohol and sweetness of 5,
            a low-alcohol dry mead, often called a "session" mead,
            and still demanding a 99.9% fit,
            it took 37 generations to get this:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Ratio</th><th>Tolerance</th><th>%ABV</th><th>Sweet</th><th>Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>6.38</td><td>6.9</td><td>6.9</td><td>5.0</td><td>100.0</td></tr>
                <tr class="fade"><td>5.73</td><td>7.6</td><td>7.6</td><td>5.4</td><td>99.5</td></tr>
                <tr class="fade"><td>5.32</td><td>8.2</td><td>8.2</td><td>4.9</td><td>98.6</td></tr>
                <tr class="fade"><td>5.61</td><td>7.6</td><td>7.6</td><td>6.5</td><td>97.3</td></tr>
                <tr class="fade"><td>6.25</td><td>6.7</td><td>6.7</td><td>7.8</td><td>92.2</td></tr>
                <tr class="fade"><td>5.34</td><td>7.7</td><td>7.7</td><td>8.8</td><td>85.5</td></tr>
                <tr class="fade"><td>5.23</td><td>8.8</td><td>8.8</td><td>1.0</td><td>80.7</td></tr>
                <tr class="fade"><td>6.25</td><td>8.2</td><td>7.7</td><td>0.0</td><td>74.5</td></tr>
                <tr class="fade"><td>6.02</td><td>8.3</td><td>7.9</td><td>0.0</td><td>74.1</td></tr>
                <tr class="fade"><td>5.61</td><td>6.8</td><td>6.8</td><td>12.3</td><td>46.5</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . spot-on in sweetness and just a tiny bit weaker.&nbsp;
            Then I asked for 16% alcohol and a sweetness of 35,
            a strong and sweet mead,
            historically called sack mead or a great mead,
            a style very popular in Poland.&nbsp;
            It took 149 generations,
            which was still very fast,
            because the functions were so simple,
            to produce this:
          </aside>
        </section>

        <section data-time-min="999">
          <div class="all vctring">
            <table class="all-right" style="font-size: 0.8em">
              <thead>
                <tr><th>Ratio</th><th>Tolerance</th><th>%ABV</th><th>Sweet</th><th>Fit</th></tr>
              </thead>
              <tbody>
                <tr><td>1.69</td><td>16.1</td><td>16.1</td><td>34.9</td><td>100.0</td></tr>
                <tr class="fade"><td>1.70</td><td>15.8</td><td>15.8</td><td>36.9</td><td>96.4</td></tr>
                <tr class="fade"><td>2.06</td><td>13.6</td><td>13.6</td><td>35.2</td><td>94.3</td></tr>
                <tr class="fade"><td>1.96</td><td>14.0</td><td>14.0</td><td>36.5</td><td>94.0</td></tr>
                <tr class="fade"><td>1.94</td><td>15.4</td><td>15.4</td><td>27.3</td><td>39.9</td></tr>
                <tr class="fade"><td>1.75</td><td>14.6</td><td>14.6</td><td>43.0</td><td>33.8</td></tr>
                <tr class="fade"><td>1.92</td><td>13.3</td><td>13.3</td><td>43.8</td><td>16.1</td></tr>
                <tr class="fade"><td>1.68</td><td>14.2</td><td>14.2</td><td>50.6</td><td>-146.3</td></tr>
                <tr class="fade"><td>1.93</td><td>17.6</td><td>17.6</td><td>10.6</td><td>-497.1</td></tr>
                <tr class="fade"><td>1.70</td><td>11.8</td><td>11.8</td><td>67.8</td><td>-992.7</td></tr>
              </tbody>
            </table>
          </div>
          <aside class="notes">
            . . . just a tiny bit stronger and drier than asked for.

            <br><br>

            There are . . .
          </aside>
        </section>

        <section>
          <div class="all vctring">
            <img src="images/many-ways.png">
          </div>
          <span class="slide-caption">Image: https://commons.wikimedia.org/wiki/File:Noun_76041_-_Different_Ways.svg</span>
          <aside class="notes">
            . . . many other ways we can use genetic algorithms.&nbsp;
            They can create images and music<span data-time-min="40">
              (though the fitness functions would be rather difficult)</span>,
            even code<span data-time-min="40">
              (maybe with a fitness function consisting of passing tests)</span>,
            and I'm now working on a system to use them to
            schedule the talks for a conference.&nbsp;
            Mey Beisaron has a talk on using one to
            schedule her college classes.&nbsp;
            So, think about it,
            and you might be able to use them for something.
            <span data-time-min="40">&nbsp;
            If not, keep the idea in your toolchest,
            and maybe eventually you'll be called upon to
            code up something to solve problems that
            might be computationally intractable by normal means.
            </span>

            <br><br>

            To recap what you've learned here today:
          </aside>
        </section>

        <section>
          <div class="recap">
            <h2>Genetic Algorithms:</h2>
            <ul>
              <li>are <strike>optimization heuristics</strike> shortcuts</li>
            </ul>
          </div>
          <aside class="notes">
            Genetic Algorithms are optimization heuristics,
            which is fancy-talk for
            shortcuts to finding good-enough solutions.&nbsp;
            They're . . .
          </aside>
        </section>

        <section>
          <div class="recap">
            <h2>Genetic Algorithms:</h2>
            <ul>
              <li>are <strike>optimization heuristics</strike> shortcuts</li>
              <li>are simpler than you probably thought</li>
            </ul>
          </div>
          <aside class="notes">
            . . . simpler than you probably
            thought<span data-time-min="40">
              --
              all you have to do is
              create an initial population,
              and cycle through five simple steps,
              of assessing their fitness,
              checking if you're done,
              picking breeders,
              breeding them,
              and mutating the new candidates,
              over and over
              until you're done</span>.&nbsp;
            They . . .
          </aside>
        </section>

        <section>
          <div class="recap">
            <h2>Genetic Algorithms:</h2>
            <ul>
              <li>are <strike>optimization heuristics</strike> shortcuts</li>
              <li>are simpler than you probably thought</li>
              <li>can use very simple functions</li>
            </ul>
          </div>
          <aside class="notes">
            . . . can use very simple functions, but it . . .
          </aside>
        </section>

        <section>
          <div class="recap">
            <h2>Genetic Algorithms:</h2>
            <ul>
              <li>are <strike>optimization heuristics</strike> shortcuts</li>
              <li>are simpler than you probably thought</li>
              <li>can use very simple functions</li>
              <li>can be tricky to figure out good functions</li>
            </ul>
          </div>
          <aside class="notes">
            . . . can be tricky to
            figure out exactly what the functions should do, for best results<span data-time-min="40">,
              especially for
              evaluating fitness
              and
              checking if you're done,
              so as to
              make the solutions converge quickly enough,
              and not ignore too many other very good solutions</span>.&nbsp;
            This approach is also . . .
          </aside>
        </section>

        <section>
          <div class="recap">
            <h2>Genetic Algorithms:</h2>
            <ul>
              <li>are <strike>optimization heuristics</strike> shortcuts</li>
              <li>are simpler than you probably thought</li>
              <li>can use very simple functions</li>
              <li>can be tricky to figure out good functions</li>
              <li>applicable to a wide variety of problems</li>
            </ul>
          </div>
          <aside class="notes">
            . . . applicable to a huge variety of problems,
            including ones so complex that . . .
          </aside>
        </section>

        <section>
          <div class="recap">
            <h2>Genetic Algorithms:</h2>
            <ul>
              <li>are <strike>optimization heuristics</strike> shortcuts</li>
              <li>are simpler than you probably thought</li>
              <li>can use very simple functions</li>
              <li>can be tricky to figure out good functions</li>
              <li>applicable to a wide variety of problems</li>
              <li>can create solutions humans would not</li>
            </ul>
          </div>
          <aside class="notes">
            . . . a semi-random algorithm
            can come up with
            excellent solutions that we humans
            would never have thought of.

            <br><br>

            Now, if you have any . . .

          </aside>
        </section>

        <section>
          <h1>? ? ? ? ?</h1>
          <h4>
            T.Rex-20<span data-gv-var="year"></span>@Codosaur.us<br>
            twitter.com/DaveAronson<br>
            linkedin.com/in/DaveAronson<br><br>
            Repo and Slides:<br>
            github.com/CodosaurusLLC/tight-genes<br>
            Codosaur.us/reds/gen-algs-<span data-gv-var="conf"></span>-<span data-gv-var="year"></span>-slides
          </h4>
          <aside class="notes">
            . . . questions, I'll take them now,
            or at the contact info shown up there.&nbsp;
            As for the other URLs,
            the Github one is for the code,
            and slides in HTML,
            and the other one
            <span data-time-min="40">(as you may have guessed)</span>
            is for the slides as a PDF,
            complete with a full script...
            which I've <i>mostly</i> stuck to.&nbsp;
            Anyway, any questions?
          </aside>
        </section>
      </div>
    </div>

    <script src="reveal/dist/reveal.js"></script>
    <script src="reveal/plugin/notes/notes.js"></script>
    <script src="reveal/plugin/markdown/markdown.js"></script>
    <script src="reveal/plugin/highlight/highlight.js"></script>
    <script src="../../genaver/genaver.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      const ratio = 9/16;
      const width = 960;
      Reveal.initialize({
        controls: false,
        hash: true,
        history: true,
        progress: true,
        transition: "none",
        transitionSpeed: "fast",
        width: width,
        height: width * ratio,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
      });
      // Uncomment one of the next config lines ONLY WHEN FORMATTING TO PRINT,
      // w/ ?print-pdf -- remember to include background graphics when dark
      // Reveal.configure({ pdfMaxPagesPerSlide: 1, showNotes: false });
      Reveal.configure({ pdfMaxPagesPerSlide: 1, showNotes: 'separate-page' });
      generate_version([
        // 'human-lang = dutch',     'var-city-en = Utrecht', 'var-conf = teqnation'
        // 'human-lang = english',   'var-city-en = Singapore', 'var-conf = rdrc', 'time @ 30', 'conf-prog-lang = ruby'
        // 'human-lang = english',   'var-city-en = London', 'var-conf = sdd', 'var-year = 25', 'time @ 75', 'conf-prog-lang = n/a',
        'human-lang = lithuanian', 'var-city-en = Vilnius',  'var-conf = dd-eu', 'var-year = 25', 'time @ 35', 'conf-prog-lang = n/a',
        // 'human-lang = greek',     'var-city-en = Athens',  'var-conf = open', 'time @ 30'
        // 'human-lang = portuguese', 'var-city-en = Coimbra',  'var-conf = jnation', 'time @ 40' // slot is 50, leave 5-10 for Q&A, so talk is 40-45
        // 'human-lang = spanish',   'var-city-en = M√°laga',  'var-conf = jotb'
        // 'human-lang = norwegian', 'var-city-en = Oslo',    'var-conf = ndc-oslo',
      ]);
    </script>
  </body>
</html>
